<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getting Started With Avalara's APIs | Avalara Developer</title>

    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    
    <meta property="og:title" content="Getting Started With Avalara's APIs | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="API solutions for end-to-end tax compliance"/>

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css"> 
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=blog>
    <header>
        <div class="pageTitle">
            <a href="/developer-dot/">
                <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                <span>Developer</span>
            </a>
            <span class="slash">/&nbsp;</span><a href="/developer-dot/blog">blog</a>
        </div>
        <nav class="navbar navbar-default navbar-static">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav  ">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Tax calculation</h2>
                                    
                                    <h4>Avalara AvaTax</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/avatax">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/avatax/dev-guide">Developer Guide</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                        
                                        <br/>
                                        <li><a href="/developer-dot/avatax/use-cases">Use Cases</a></li>
                                        <li><a href="/developer-dot/avatax/get-started">Start your AvaTax free trial now!</a></li>
                                    </ul>
                                     
                                    <h4>Avalara Communications</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/communications">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/communications/afc-rest">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara Excise</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/excise">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                                <div class="col-sm-6">
                                    <h2>Compliance document management</h2>
                                    
                                    <h4>Avalara CertCapture</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/certcapture">Overview</a></li>
                                        
                                        <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                        
                                    </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    <h4>Avalara TrustFile</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/trustfile">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li ><a href="/developer-dot/avatax/get-started">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                        </ul>
                    </li>
                    <li class="tests"><a href="/developer-dot/tests/testing-your-integration/"><span class="text-uppercase">Tests</span></a></li>
                    <!-- removing until the link to the Self-Test is fugured out -->
                    <!--
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/tests/self-test">Avalara Self-Test Tool</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>
                        </ul>
                    </li> -->

                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggel" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Avalara AvaTax</a></li>
                            <li><a href="/developer-dot/certification/communications-certification/">Avalara Communications</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/certcapture/">Avalara CertCapture</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                          <li><a href="/developer-dot/resources/support">Developer Support Options</a></li>
                          <li><a href="/developer-dot/blog">Developer Blog</a></li>
                          <li><a href="/developer-dot/resources/webinars">Webinars</a></li>
                          <!--<li><a href="/developer-dot/resources/preferred-developers">Preferred developers</a></li>-->
                          <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                          <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/support"><span class="text-uppercase">Developer Support Options</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/blog"><span class="text-uppercase">Developer Blog</span></a></li>
                    <!--<li class="resources visible-xs-block"><a href="/developer-dot/resources/preferred-developers"><span class="text-uppercase">Preferred developers</span></a></li>-->
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                </ul>


                <a href="/developer-dot/avatax/signup/" class="btn btn-primary btn-signup">Free Trial</a>

            </div>
        </nav>
    </header>
    <div class="container-fluid blog">
        
        
        <section class="row padding-sides">
            <main class="col-md-12">
<div class="breadcrumbs blog">
    <div class="col-md-12">
        <ul class="pipe">
            <li class="text-uppercase">Resources</li>
            <li class="text-uppercase"><a href="/developer-dot/blog">Developer Blog</a></li>
            
            <li class="text-uppercase">Getting Started With Avalara's APIs</li>
            
        </ul>
    </div>
</div>
<br />



<div class="half">
    <h1>Getting Started With Avalara's APIs</h1>
    <p class="byline">By Joe Savarese | September 30, 2016</p>
    <p class="blog-content"><h1 id="first-steps-with-avalara-apis">First Steps with Avalara APIs</h1>

<p><strong>Not well versed in Computer Programming yet? Not a problem!- You can access the power of Avalara’s new AvaTax API in no time just like I did!</strong></p>

<p>Hello, as a fresh Intern within the Engineering team here at Avalara, I was given the great opportunity to attend a Demo on Avalara’s new REST API (being that I work on a different project this was all new to me). I nervously arrived on Bainbridge Island and found a seat in a room full of experienced Developers and Quality Assurance specialists already setting up to check out the new API. Being an intern, I was there to learn and not really sure what to expect, but I couldn’t help to wonder what I had got myself into as I struggled to ignore the fact I hadn’t a clue on how to implement an API and I knew I had extremely limited knowledge of how they worked. But before my face could turn blue in a hyperventilating panic, my anxieties began to diminish as I read through instructions on how to get started and realized that even I, the new Intern, could begin utilizing the features of the API in no time with little to no prior experience. And I guess that’s kind of the point right? I had access to their integrated system of services, all of which were provided through making simple requests to a URL, so really, one wouldn’t need to know too much about what’s happening behind the scenes.</p>

<p>A little research into the <a href="http://www.restapitutorial.com/lessons/httpmethods.html">CRUD</a> syntax of HTTP and help from the web service client <a href="https://www.getpostman.com/">Postman</a>  I quickly had a collection of calls to the API capable of setting up the barebones Account I was to use with a Company and implementing the features of Avalara’s AvaTax software. Also, as it turns out, this process was great in learning how to get started with AvaTax and what it has to offer its Customers (you), regardless of how technically savvy. As the API is fine-tuned to meet the needs of its users it will only get easier and more accessible.</p>

<p>Here I will walk you through what I did to get started using the API and what I was able to accomplish. As a quick overview, these are a list of steps towards creating my company’s first taxed Transaction:</p>

<ul>
  <li>Access an AvaTax Account to make authorized requests to the API.</li>
  <li>GET some Account information that will be required to set up a Company.</li>
  <li>Add a new Company to my Account Using POST /api/v2/companies.</li>
  <li>Make Changes to my current Company using the PUT /api/v2/companies/{id} endpoint.</li>
  <li>Provide Contact information for the Company.</li>
  <li>Set up a Company Location.</li>
  <li>Establish Nexus for the Company.</li>
  <li>Add Another Company, with the “all-encompassing” shortcut POST /api/v2/companies/initialize.</li>
  <li>Making use of the GET function to discover all the Company Information created in a single call.</li>
  <li>Create a Company Transaction for which Taxes may be determined.</li>
</ul>

<h2 id="establishing-account-credentials">Establishing Account Credentials</h2>
<p>After installing the Postman application, I was able to see that to send any requests to the API I needed to first authenticate my Account for proper authorization. To do so I needed the username and password credentials from my new AvaTax Account. Fortunately, I had received an email with instructions and a link to log in to to get my Account activated - literally the only time I needed to touch the UI.</p>

<h2 id="easy-access-first-request">Easy Access, First Request:</h2>

<h4 id="using-get-httphostnameapiv2accounts-to-access-my-account">Using: GET http://&lt;<em>hostname</em>&gt;/api/v2/accounts To Access my Account**</h4>

<p>Using those credentials in Postman, clicking on authorization, and selecting the Basic Auth option I filled in my username and password so Postman could generate an authorization header by encoding that information into a base64 representation.</p>

<p>After clicking the button to update request, filling in the header automatically, I was able to start making calls to the API. The <a href="/developer-dot/api-reference/avatax/rest/v2/">API Documentation</a> contains a list of resources that can be exercised by the API, each of which can be expanded to obtain the various request endpoints along with examples and errors.</p>

<p>Notice that when you expand these options they are filled with variations of the basic CRUD methods I mentioned before. Postman allows you to generate requests for each of these specific methods by simply choosing the correct HTTP verb, entering the URL, and providing proper Headers and Body text as needed. Fortunately there is also an option to try it out directly from the documentation itself though it does not save requests like Postman does and I was going for repeatability.</p>

<p>As a specific example you will see in the following request/response blocks I was able to GET information on my Account by simply updating the Authorization Header, choosing the GET option, and pasting the URL from the Swagger documentation into the Request URL section. The response tells me that my Account really does exist!</p>

<h4 id="request">request</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>Headers:
GET http://&lt;hostname&gt;/api/v2/accounts
Authorization: Basic base64(username:password)
Accept: application/json
</code></pre>
</div>

<h4 id="response">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"@recordsetCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">111111111</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TestAccountDemo"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2099-01-01T00:00:00"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"accountStatusId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Active"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
    </span><span class="err">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Before moving on, I’d like to mention that Postman has a nifty save feature that allows us to keep these requests in a collection in case I need to access the same request later! There’s a panel on the left side of Postman, under <em>Collections</em>, click the button that has a plus sign to create a new Collection.  I recommend using them so you can always go back to your rock-solid requests.</p>

<h2 id="now-were-in-business">Now We’re In Business:</h2>

<h4 id="using-post-httphostnameapiv2companies-to-create-my-first-company">Using: POST http://&lt;<em>hostname</em>&gt;/api/v2/companies to Create my first Company</h4>

<p>Next I wanted to add a Company to my Account which can be done in two different ways, both involving a POST request: api/v2/companies which creates a single Company or /companies/initialize which creates a single Company with other relevant resources like Contact, Location, and Nexus (basically a shortcut of what I’m going to walk you through).</p>

<p>If you’re like me you might be assuming a POST has the same format as the GET request we had success with earlier… and you’d soon find out how wrong you were. My first basic POST request scolded me with a 415 Unsuppported Media Type error, meaning I needed a Content-Type Header. Once I clicked Headers, and filled in the row below my authorization Header, inputing <strong>Content-Type</strong> in the <strong>key</strong> column on the left and <strong>application/json</strong> in the right column I POSTed once more. This time the response also told me I required a <strong>Model</strong> for the body section of my request. Still new to this, I really had no idea how or why I’d do that, but surprisingly during what I’d like to call a “trial-error-google-adjust” process I was able to fairly quickly address the error by clicking <strong>Body</strong> in Postman and entering in the beginnings of the model required by initializing an Object in JSON format. This is outlined in the following code blocks.</p>

<h4 id="request-1">request</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>POST http://&lt;hostname&gt;/api/v2/companies
Authorization: Basic base64(username:password)
Content-Type: application/json
</code></pre>
</div>

<h4 id="response-1">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RequestParsing"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A required Model was not provided."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IncorrectData"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A required Model was not provided."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Details"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{0}"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FaultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"HelpLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.avalara.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ModelRequiredException"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Exception"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>It’s requesting a model, which I found by entering empty brackets to the request code body and reading through the “missing field” errors in the response code seen below.</p>

<h4 id="request-2">request</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">http://&lt;hostname&gt;/api/v</span><span class="mi">2</span><span class="err">/companies</span><span class="w">
</span><span class="err">Authorization:</span><span class="w"> </span><span class="err">Basic</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="err">(username:password)</span><span class="w">
</span><span class="err">Content-Type:</span><span class="w"> </span><span class="err">application/json</span><span class="w">

</span><span class="p">{}</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-2">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IncorrectData"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Field companyCode is required."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IncorrectData"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Field name is required."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Details"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FaultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"HelpLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.avalara.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"StringValueRequiredError"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Field companyCode is required."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Details"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FaultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"HelpLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.avalara.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"StringValueRequiredError"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ErrorCode"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Field taxpayerIdNumber is required."</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Details"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"FaultCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Client"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"HelpLink"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.avalara.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"StringValueRequiredError"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"Severity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Error"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>At this point I was just hoping nobody saw my continuous stream of errors. When I finally figured out what goes in the body section of the request based on those error message summaries, both Postman and the API happily produced an error free 200 response found in the next code block.</p>

<h4 id="request-3">request</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="err">POST</span><span class="w"> </span><span class="err">http://&lt;hostname&gt;/api/v</span><span class="mi">2</span><span class="err">/companies</span><span class="w">
</span><span class="err">Authorization:</span><span class="w"> </span><span class="err">Basic</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="err">(username:password)</span><span class="w">
</span><span class="err">Content-Type:</span><span class="w"> </span><span class="err">application/json</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111111111</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taxpayerIdNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-3">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">333333</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111111111</span><span class="p">,</span><span class="w">
    </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxpayerIdNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hasProfile"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isReportingEntity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"defaultCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"inProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:13:24.122"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w">  </span><span class="mi">222111</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:13:24.122"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<p>According to the response I can assume a Company named “DemoCompany” has been added to the account “TestAccountDemo”. Although, I would like to be certain of this and to do so I used the GET Companies request to see if the Company I attempted to POST would show up:</p>

<h4 id="request-4">request</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>GET http://&lt;hostname&gt;/api/v2/companies
Authorization: Basic base64(username:password)
Accept: application/json
</code></pre>
</div>

<h4 id="response-4">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"@recordsetCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
      </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111111111</span><span class="p">,</span><span class="w">
      </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">288963</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">288963</span><span class="p">,</span><span class="w">
      </span><span class="nt">"taxpayerIdNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"44444"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hasProfile"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isReportingEntity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"entityNo"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"inProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:13:24.122"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:13:24.122"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Voila!- a new Company. Notice many fields appear in the response that were not initialized in my request. Depending on the nature of your business, more information may be necessary to provide the Company with the full functionality of the API.  As previously mentioned, the entire Model including all the possible fields is available in the Swagger documentation! Though for my purposes, with the addition of a just a few more resources I’ll have created a Company that I can now use to make Tax Calculations against!</p>

<h2 id="put-er-there">PUT ‘Er There:</h2>

<h4 id="using-put-httphostnameapiv2companiescompanyid-to-modify-my-company">Using: PUT http://&lt;<em>hostname</em>&gt;/api/v2/companies/{companyId} To Modify my Company</h4>

<p>Notice in the GET api/v2/companies request my Company is Inactive and has no Tax Profile. These will have to be changed to true in order for the API to calculate tax on the transaction later. To rectify this problem we will modify these fields with a PUT request.</p>

<h4 id="request-5">request</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="err">PUT</span><span class="w"> </span><span class="err">http://&lt;hostname&gt;/api/v</span><span class="mi">2</span><span class="err">/companies/</span><span class="mi">3333333</span><span class="w">
</span><span class="err">Authorization:</span><span class="w"> </span><span class="err">Basic</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="err">(username:password)</span><span class="w">
</span><span class="err">Content-Type:</span><span class="w"> </span><span class="err">application/json</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111111111</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taxPayerIdNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"defaultCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hasProfile"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-5">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111111111</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taxpayerIdNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hasProfile"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isReportingEntity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"defaultCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"inProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:13:24.122"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
  </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:17:24.122"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Now that <code class="highlighter-rouge">isActive</code> is set to true, and <code class="highlighter-rouge">hasProfile</code> is set to <code class="highlighter-rouge">true</code>, I have an active Account and Tax Profile. Don’t mind the <code class="highlighter-rouge">isTest</code> field unless, of course, you’re Using the API features to test. The <code class="highlighter-rouge">isReportingEntity</code> field being <code class="highlighter-rouge">false</code> simply means the Companies Transacion history could potentially be combined with its Parent Company if you have one. Right now, I don’t, so I’m leaving that part alone.</p>

<h2 id="reaching-out">Reaching Out:</h2>

<h4 id="using-get-httphostnameapiv2companiesapiv2contacts-to-add-contact">Using: GET http://&lt;<em>hostname</em>&gt;/api/v2/companies/<companyid>/api/v2/contacts to Add Contact</companyid></h4>

<p>Now that I have a Company to go with my Account, I figured I would see how to build on that Company by adding Contact information. After clicking the “try it now” button inside the POST /api/v2/companies/{companyId}/contacts API method in the Swagger documentation it prompts me for a Company ID for the Company that owns this Contact. Using the <code class="highlighter-rouge">id</code> that shows up in the response of the GET and POST requests against the /api/v2/companies endpoint is the obvious choice and helped me to generate the correct request URL in the Post /api/v2/companies/{companyId}/contact endpoint. Since it’s a POST request I figured that I probably need to provide some sort of body code that contained a Contact-related model. Using the Swagger documentation model schema, I updated the body with a generic model, edited the fields I wanted changed, deleted those I didn’t need, and then clicked to POST the request to the Contacts endpoint. Here’s what that might look like:</p>

<h4 id="request-6">request</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">http://&lt;hostname&gt;/api/v</span><span class="mi">2</span><span class="err">/companies/</span><span class="p">{</span><span class="err">companyId</span><span class="p">}</span><span class="err">/contacts</span><span class="w">
</span><span class="err">Authorization:</span><span class="w"> </span><span class="err">Basic</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="err">(username:password)</span><span class="w">
</span><span class="err">Content-Type:</span><span class="w"> </span><span class="err">application/json</span><span class="w">

</span><span class="p">[{</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
  </span><span class="nt">"contactCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bourne"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jason@bourne.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="p">,</span><span class="w">
</span><span class="err">}</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-6">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2224444</span><span class="p">,</span><span class="w">
    </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
    </span><span class="nt">"contactCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bourne"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jason@bourne.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:30:24.122"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:30:24.122"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<h2 id="where-am-i">Where am I?:</h2>

<h4 id="using-post-httphostnameapiv2companiescompanyidlocations-to-add-a-location">Using: POST http://&lt;<em>hostname</em>&gt;/api/v2/companies/{companyId}/locations to Add a Location</h4>

<p>After successfully getting a Contact added to my Company, I thought it may need a Location. I followed the same steps as adding a Contact, but just changed up the URL and the model.  Below is a condensed version of that request/response code block.</p>

<h4 id="request-7">request</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">http://&lt;hostname&gt;/api/v</span><span class="mi">2</span><span class="err">/companies/</span><span class="p">{</span><span class="err">companyId</span><span class="p">}</span><span class="err">/locations</span><span class="w">
</span><span class="err">Authorization:</span><span class="w"> </span><span class="err">Basic</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="err">(username:password)</span><span class="w">
</span><span class="err">Content-Type:</span><span class="w"> </span><span class="err">application/json</span><span class="w">

</span><span class="p">[{</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
  </span><span class="nt">"locationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"addressTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Location"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"addressCategoryId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MainOffice"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>
</div>

<h4 id="response-7">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123123</span><span class="p">,</span><span class="w">
    </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"addressTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Location"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"addressCategoryId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MainOffice"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main St"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:30:24.122"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:30:24.122"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<h2 id="establishing-nexus">Establishing Nexus:</h2>

<h4 id="using-post-httphostnameapiv2companiescompanyidnexus-to-establish-nexus">Using: POST http://&lt;<em>hostname</em>&gt;/api/v2/companies/{companyId}/nexus to Establish Nexus</h4>

<p>I decided to endeavor upon setting up a Nexus for my Company considering I will eventually want to do some Tax Calculations through the  Transactions endpoint. But simply knowing of Nexus in an economic sense was not enough. To be sure I understood how it works within the Avalara API I found a great feature that allows me to actually use the GET api/v2/definitions request and learn more about it. If you want more on Nexus, go to <a href="https://help.avalara.com/007_AvalaraUniversity">Avalara University’s</a> education center to find out everything you need and more.</p>

<h3 id="defining-nexus">Defining Nexus:</h3>

<h4 id="using-get-httphostnameapiv2definitionsnexuscountryregion-to-define-jurisdiction">Using: GET http://&lt;<em>hostname</em>&gt;/api/v2/definitions/nexus/{country}/{region} to Define Jurisdiction</h4>

<p>The following code blocks illustrate the response from the GET definition feature from the endpoint /api/v2/definitions/nexus/US/WA:</p>

<h4 id="request-8">request</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>GET http://&lt;hostname&gt;/api/v2/definitions/nexus/US/WA
Authorization: Basic base64(username:password)
Accept: application/json
</code></pre>
</div>

<h4 id="response-8">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42424242</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"shortName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"nexusTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volunteer"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountingMethodId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hasLocalNexus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hasPermanentEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000-09-20T12:30:24.122"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000-09-20T12:30:24.122"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>That lookup provides information necessary to establish Nexus in Washington State. The code block below is another request looking up Nexus in the broader context of countries of the api/v2/definitions/nexus endpoint. Which produces a huge list of all possible Nexus assignements within the US. Searching for (quotations and all) <strong>“state”: “US”</strong> to go directly to the sought after information finds the Country level Nexus that I also need.</p>

<h4 id="request-9">request</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>GET http://&lt;hostname&gt;/api/v2/definitions/nexus/
Authorization: Basic base64(username:password)
Accept: application/json
</code></pre>
</div>

<h4 id="response-9">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="err">...</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11110000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CNT"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNITED STATES"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"shortName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"nexusTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volunteer"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"accountingMethodId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hasLocalNexus"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hasPermanentEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000-09-20T12:30:24.122"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000-09-20T12:30:24.122"</span><span class="w">
    </span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="err">...</span><span class="w">
</span></code></pre>
</div>

<p>Armed with this knowledge I can figure out how to establish Nexus in Washington State and the United States with the POST Nexus method. Really the only modification necessary to the information provided from the GET definitions request is to add an “effectiveDate” and “endDate” to specify how long your Company will have Nexus within these regions.</p>

<h4 id="request-10">request</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">http://&lt;hostname&gt;/api/v</span><span class="mi">2</span><span class="err">/companies/</span><span class="mi">3333333</span><span class="err">/nexus</span><span class="w">
</span><span class="err">Authorization:</span><span class="w"> </span><span class="err">Basic</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="err">(username:password)</span><span class="w">
</span><span class="err">Content-Type:</span><span class="w"> </span><span class="err">application/json</span><span class="w">

</span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CNT"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNITED STATES"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"shortName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nexusTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volunteer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"accountingMethodId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hasLocalNexus"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hasPermanentEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T21:15:41.78"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-01T21:15:41.78"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"shortName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nexusTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volunteer"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"accountingMethodId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hasLocalNexus"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hasPermanentEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T21:15:41.78"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-01T21:15:41.78"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">

</span></code></pre>
</div>

<h4 id="response-10">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
    </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CNT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNITED STATES"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T21:15:41.78"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-01T21:15:41.78"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"shortName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nexusTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volunteer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountingMethodId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hasLocalNexus"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hasPermanentEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:37:24.122"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:37:24.122"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12312398</span><span class="p">,</span><span class="w">
    </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"effectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-01T21:15:41.78"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-01-01T21:15:41.78"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"shortName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"nexusTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Volunteer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accountingMethodId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hasLocalNexus"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hasPermanentEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
    </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:37:24.122"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:37:24.122"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<p>There we have it, Nexus in all the jurisdictions to which the Company is legally bound.</p>

<h2 id="initialize-why-didnt-you-say-so">Initialize? Why Didn’t You Say So?:</h2>

<p><strong>Using <em>*POST http://&lt;*hostname*&gt;/api/v2/companies/initialize*</em> to Initialize Company</strong></p>

<h4 id="using-post-httphostnameapiv2apiv2companiesinitialize-to-initialize-company">Using POST http://&lt;<em>hostname</em>&gt;/api/v2/api/v2/companies/initialize To Initialize Company</h4>

<p>If you were thinking that all those requests were a bit cumbersome just to Create a Company Entity then have I got a solution for you. POST /api/v2/companies is a method more effectively  used for POSTing one or more Companies once a Company or a Parent Company has already been initialized. So real quick, here’s the request/response code for the awesome companies/initialize endpoint, POSTing a Company Entity, a Contact, a Location, and Nexus in one fell swooping request.</p>

<h3 id="request-11">request</h3>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w">
</span><span class="err">POST</span><span class="w"> </span><span class="err">http://&lt;hostname&gt;/api/v</span><span class="mi">2</span><span class="err">/companies/initialize</span><span class="w">
</span><span class="err">Authorization:</span><span class="w"> </span><span class="err">Basic</span><span class="w"> </span><span class="err">base</span><span class="mi">64</span><span class="err">(username:password)</span><span class="w">
</span><span class="err">Content-Type</span><span class="w"> </span><span class="err">application/json</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3467"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456 Main St"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bourne"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blacklisted"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jason@bourne.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"mobileNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555556"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"faxNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555557"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h3 id="response-11">response</h3>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6662222</span><span class="p">,</span><span class="w">
  </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1111111111</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sstPid"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3467"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"defaultLocationId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isActive"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taxpayerIdNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hasProfile"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isReportingEntity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"defaultCountry"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"baseCurrencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"roundingLevelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Line"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"warningsEnabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"isTest"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"taxDependencyLevelId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Document"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"inProgress"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"businessIdentificationNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
  </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
  </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">739322</span><span class="p">,</span><span class="w">
      </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6662222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"contactCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"middleName"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bourne"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blacklisted"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456 Main St"</span><span class="p">,</span><span class="w">
     </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jason@bourne.com"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"phone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555555"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"mobile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555556"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5555555557"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">898898</span><span class="p">,</span><span class="w">
      </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6662222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"locationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"addressTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Location"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"addressCategoryId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MainOffice"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456 Main St"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"county"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isDefault"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"isRegistered"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"dbaName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"outletName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Main Office"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"nexus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33443344</span><span class="p">,</span><span class="w">
      </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">6662222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"shortName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"nexusTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SalesOrSellersUseTax"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hasLocalNexus"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hasPermanentEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">33443345</span><span class="p">,</span><span class="w">
      </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">662222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CNT"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNITED STATES"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"shortName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nt">"nexusTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SalesOrSellersUseTax"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hasLocalNexus"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"hasPermanentEstablishment"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222222</span><span class="p">,</span><span class="w">
      </span><span class="nt">"createdDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">222111</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modifiedDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-09-20T12:42:24.122"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h2 id="get-it-all-back">Get It All Back:</h2>

<h4 id="using-get-httphostnameapiv2companiesincludecontactslocations">Using: GET http://&lt;<em>hostname</em>&gt;/api/v2/companies?$include=Contacts,Locations,</h4>

<p>If I wanted take a look at everything I’ve done so far there’s a way to make a call to my Company that includes the GET Company call, GET Locations call, GET Contacts call, the Get Nexus call by filling in values for the $include parameter.</p>

<p>Here’s the request/response code block:</p>

<h4 id="request-12">request</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>GET http://&lt;hostname&gt;/api/v2/companies?%24include=Contacts%2CLocations%2CNexus
Authorization: Basic base64(username:password)
Accept: application/json
</code></pre>
</div>

<h4 id="response-12">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"@recordsetCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
      </span><span class="nt">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">111111111</span><span class="p">,</span><span class="w">
      </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DemoCompany"</span><span class="p">,</span><span class="w">
      </span><span class="err">...</span><span class="w">
      </span><span class="nt">"contacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2224444</span><span class="p">,</span><span class="w">
          </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
          </span><span class="nt">"contactCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jason"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bourne"</span><span class="p">,</span><span class="w">
	  </span><span class="err">...</span><span class="w">
        </span><span class="err">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">123123</span><span class="p">,</span><span class="w">
          </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
          </span><span class="nt">"locationCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"addressTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Location"</span><span class="p">,</span><span class="w">
	  </span><span class="err">...</span><span class="w">
        </span><span class="err">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"nexus"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345678</span><span class="p">,</span><span class="w">
          </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CNT"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNITED STATES"</span><span class="p">,</span><span class="w">
	  </span><span class="err">...</span><span class="w">
        </span><span class="err">}</span><span class="p">,</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12312398</span><span class="p">,</span><span class="w">
          </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3333333</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jurisTypeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STA"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
	  </span><span class="err">...</span><span class="w">
        </span><span class="err">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="err">&lt;DemoCompany2_with_Contacts_Locations_Nexus&gt;</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<h2 id="getting-taxed-by-the-man">Getting Taxed by the Man:</h2>

<h4 id="using-post-httphostnameapiv2transactionscreate-to-calculate-tax-on-a-transaction">Using: POST http://&lt;<em>hostname</em>&gt;/api/v2/transactions/create To Calculate Tax on a Transaction</h4>

<p>Finally, the moment we’ve all been waiting for! Using the API to create a Transaction and calculate taxes! That is what we came to do, right? Since the Account has a Company containing various bits of information, I can send a request to the api/v2/transactions/create endpoint that looks something like this:</p>

<h4 id="request-13">request</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>POST http://&lt;hostname&gt;/api/v2/transactions/create
Authorization: Basic base64(username:password)
Content-Type: application/json

[
  {
    "companyCode": "123",
    "type": "SalesInvoice",
    "date": "2016-09-30T19:37:13.664Z",
    "code": "transactionCode",
    "customerCode": "CUST1",
    "commit": false,
    "addresses": {
      "ShipFrom": {
        "line1": "1100 2nd Ave",
        "city": "Seattle",
        "region": "WA",
        "country": "US",
        "postalCode": "98101"
      },
      "ShipTo": {
        "line1": "700 Pike St",
        "city": "Seattle",
        "region": "WA",
        "country": "US",
        "postalCode": "98101"
      }
    },
    "lines": [
      {
        "number": "string1",
        "quantity": 5,
        "amount": 500,
        "taxCode": "P000000"
      }
    ]
  }
]
</code></pre>
</div>

<h4 id="response-13">response</h4>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">45645678</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"transactionCode"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000-00-00000:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000-00-00000:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paymentDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000-00-00000:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saved"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SalesInvoice"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"companyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">5551111</span><span class="p">,</span><span class="w">
    </span><span class="nt">"batchCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currencyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customerUsageType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customerVendorCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUST1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exemptNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reconciled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"purchaseOrderNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"salespersonCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxOverrideType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxOverrideAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"taxOverrideReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totalAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totalExempt"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totalTax"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totalTaxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
    </span><span class="nt">"totalTaxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
    </span><span class="nt">"adjustmentReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NotAdjusted"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"adjustmentDescription"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"softwareVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.8.0.71"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"originAddressId"</span><span class="p">:</span><span class="w"> </span><span class="mi">36922678</span><span class="p">,</span><span class="w">
    </span><span class="nt">"destinationAddressId"</span><span class="p">:</span><span class="w"> </span><span class="mi">36922679</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exchangeRateEffectiveDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000-00-00000:00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"exchangeRate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"isSellerImporterOfRecord"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"modifiedUserId"</span><span class="p">:</span><span class="w"> </span><span class="mi">288963</span><span class="p">,</span><span class="w">
    </span><span class="nt">"lines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">30717155</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22409811</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lineNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boundaryOverrideId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"customerUsageType"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buildingMaterials"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destinationAddressId"</span><span class="p">:</span><span class="w"> </span><span class="mi">37312414</span><span class="p">,</span><span class="w">
        </span><span class="nt">"originAddressId"</span><span class="p">:</span><span class="w"> </span><span class="mi">37312411</span><span class="p">,</span><span class="w">
        </span><span class="nt">"discountAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"exemptAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"exemptCertId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"exemptNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"isItemTaxable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"isSSTP"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"itemCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nails"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"lineAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
        </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ref1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ref2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"reportingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000-00-00000:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"revAccount"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sourcing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Destination"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxableAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="mi">48</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"P000000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxCodeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">155850</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000-00-00000:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxEngine"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxOverrideType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxOverrideAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxOverrideReason"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxIncluded"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5551111</span><span class="p">,</span><span class="w">
            </span><span class="nt">"transactionLineId"</span><span class="p">:</span><span class="w"> </span><span class="mi">30717155</span><span class="p">,</span><span class="w">
            </span><span class="nt">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22409811</span><span class="p">,</span><span class="w">
            </span><span class="nt">"addressId"</span><span class="p">:</span><span class="w"> </span><span class="mi">37312414</span><span class="p">,</span><span class="w">
            </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"stateFIPS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"exemptAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"exemptReasonId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nt">"inState"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisdictionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">61</span><span class="p">,</span><span class="w">
            </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BVPJ"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableRuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RateRule"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.065</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateRuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1099760</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateSourceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"serCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01726"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"sourcing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Destination"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">32.5</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxableAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sales"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA STATE TAX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxAuthorityTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2109700</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="mf">32.5</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxOverride"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5551111</span><span class="p">,</span><span class="w">
            </span><span class="nt">"transactionLineId"</span><span class="p">:</span><span class="w"> </span><span class="mi">30717155</span><span class="p">,</span><span class="w">
            </span><span class="nt">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22409811</span><span class="p">,</span><span class="w">
            </span><span class="nt">"addressId"</span><span class="p">:</span><span class="w"> </span><span class="mi">37312414</span><span class="p">,</span><span class="w">
            </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"stateFIPS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"exemptAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"exemptReasonId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nt">"inState"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"033"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KING"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisdictionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2986</span><span class="p">,</span><span class="w">
            </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BVVZ"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1700"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CTY"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableRuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RateRule"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateRuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1098909</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateSourceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"serCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01726"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"sourcing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Destination"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxableAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sales"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA COUNTY TAX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxAuthorityTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2109700</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxOverride"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5551111</span><span class="p">,</span><span class="w">
            </span><span class="nt">"transactionLineId"</span><span class="p">:</span><span class="w"> </span><span class="mi">30717155</span><span class="p">,</span><span class="w">
            </span><span class="nt">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22409811</span><span class="p">,</span><span class="w">
            </span><span class="nt">"addressId"</span><span class="p">:</span><span class="w"> </span><span class="mi">37312414</span><span class="p">,</span><span class="w">
            </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"stateFIPS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"exemptAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"exemptReasonId"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="nt">"inState"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63000"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEATTLE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisdictionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">167796</span><span class="p">,</span><span class="w">
            </span><span class="nt">"signatureCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BVXK"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"jurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CIT"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableRuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"nonTaxableType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RateRule"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.031</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateRuleId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1290133</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateSourceId"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="nt">"serCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01726"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"sourcing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Destination"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.5</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxableAmount"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sales"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA CITY TAX"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxAuthorityTypeId"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2109700</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.5</span><span class="p">,</span><span class="w">
            </span><span class="nt">"taxOverride"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="nt">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37312411</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22409811</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boundaryLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zip5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1100 2nd Ave"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"line3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101-2908"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2109700</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">37312414</span><span class="p">,</span><span class="w">
        </span><span class="nt">"transactionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">22409811</span><span class="p">,</span><span class="w">
        </span><span class="nt">"boundaryLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zip5"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"700 Pike St"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"line3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Seattle"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98101-2311"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxRegionId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2109700</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"State"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"53"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WASHINGTON"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxAuthorityType"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sales"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA STATE TAX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.065</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">32.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="mf">32.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nonTaxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"exemption"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"County"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"033"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KING"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxAuthorityType"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1700"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sales"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA COUNTY TAX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nonTaxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"exemption"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"63000"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"jurisName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SEATTLE"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxAuthorityType"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stateAssignedNo"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sales"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WA CITY TAX"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rateType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w">
        </span><span class="nt">"rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.031</span><span class="p">,</span><span class="w">
        </span><span class="nt">"tax"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"taxCalculated"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nonTaxable"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"exemption"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
</div>

<p>Now that this Transaction has been created, you can see that the POST method finds the tax rules within the couple Nexus locations and applies them to the Transaction. For example, in the above response: using <code class="highlighter-rouge">"jurisName": "WASHINGTON"</code> with the <code class="highlighter-rouge">"rate": 0.065,</code> applied to the Transaction value <code class="highlighter-rouge">"taxable": 500,</code> ultimately returns  <code class="highlighter-rouge">"taxCalculated": 32.5,</code> which comes out to <strong>$32.50</strong>. Since <code class="highlighter-rouge">"jurisName": "KING",</code> has <code class="highlighter-rouge">"rate": 0,</code> it moves onto <code class="highlighter-rouge">"jursName": "SEATTLE",</code> with <code class="highlighter-rouge">"rate": 0.031,</code> applies it to the <code class="highlighter-rouge">"taxable": 500,</code> which yields <code class="highlighter-rouge">"taxCalculated": 15.5,</code> or <strong>$15.50</strong>. Thus, it finds the taxes owed to the individual jurisdictions as well as aggregates them all for <code class="highlighter-rouge">"totalTax": 48,</code> or <strong>$48.00</strong>.</p>

<h2 id="finishing-up">Finishing up</h2>

<p>Now that I started to see things fall into place from calling these various endpoints of the API I was reassured that anyone who wishes to utilize it would be able to find their way. It was definitely exciting for me, as a curious intern, to learn about Avalara and the new REST Service they are producing. I hope you find this guide just as helpful!</p>
</p>
    <p class="btn-callout"><a href="/developer-dot/blog" role="button">Back to posts</a></p>
    <div>
        <div>
    <!-- Begin MailChimp Signup Form -->
<link href="/developer-dot//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://avalara.us17.list-manage.com/subscribe/post?u=e2114eae65572ca4675c4ae37&amp;id=a37ce2da48" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Want updates on the lastest blog posts? Sign up for our newsletter.</label>
    <div class="input-group">
        <input type="email" value="" name="EMAIL" class="form-control" id="mce-EMAIL" placeholder="Email Address" required/>
        <span class="input-group-btn">
            <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-default button"/>
        </span>
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_e2114eae65572ca4675c4ae37_a37ce2da48" tabindex="-1" value=""></div>
    </div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->
</div>
    </div>
</div>

    
</main>
        </section>
         
        <section class="row padding-sides">
            <main class="col-md-12"><div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'developeravalaracom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</main>
        </section>
        
    </div>
    <footer>
        <ul class="global">
            <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
            <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
        </ul>


        <ul class="social">
            <li class="twitter"><a href="https://twitter.com/avadev">Twitter</a></li>
            <li class="facebook"><a href="https://www.facebook.com/avalara">Facebook</a></li>
            <li class="linkedin"><a href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
            <li class="youtube"><a href="https://www.youtube.com/user/Avalara1">Youtube</a></li>
        </ul>
        
        


        <ul class="legal">
            <li>&copy; 2017 Avalara, Inc. All rights reserved</li>
            <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
            <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
        </ul>

        <ul class="github">
            <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/_posts/2016-09-30-getting-started-with-avalara-apis.md"><span>GH</span> Edit this page on GitHub</a></li>

        </ul>
    </footer>

    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>
    <script src="/developer-dot/public/js/site.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

     

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>
