<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Getting Started with AvaTax REST v2 | Avalara Developer</title>

    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    
    <meta property="og:title" content="Getting Started with AvaTax REST v2 | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="API solutions for end-to-end tax compliance"/>

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css"> 
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=blog>
    <header>
        <div class="pageTitle">
            <a href="/developer-dot/">
                <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                <span>Developer</span>
            </a>
            <span class="slash">/&nbsp;</span><a href="/developer-dot/blog">blog</a>
        </div>
        <nav class="navbar navbar-default navbar-static">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav  ">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Tax calculation</h2>
                                    
                                    <h4>Avalara AvaTax</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/avatax">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/avatax/dev-guide">Developer Guide</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                        
                                        <br/>
                                        <li><a href="/developer-dot/avatax/use-cases">Use Cases</a></li>
                                        <li><a href="/developer-dot/avatax/get-started">Start your AvaTax free trial now!</a></li>
                                    </ul>
                                     
                                    <h4>Avalara Communications</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/communications">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/communications/afc-rest">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara Excise</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/excise">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                                <div class="col-sm-6">
                                    <h2>Compliance document management</h2>
                                    
                                    <h4>Avalara CertCapture</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/certcapture">Overview</a></li>
                                        
                                        <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                        
                                    </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    <h4>Avalara TrustFile</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/trustfile">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li ><a href="/developer-dot/avatax/get-started">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                        </ul>
                    </li>
                    <li class="tests"><a href="/developer-dot/tests/testing-your-integration/"><span class="text-uppercase">Tests</span></a></li>
                    <!-- removing until the link to the Self-Test is fugured out -->
                    <!--
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/tests/self-test">Avalara Self-Test Tool</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>
                        </ul>
                    </li> -->

                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggel" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Avalara AvaTax</a></li>
                            <li><a href="/developer-dot/certification/communications-certification/">Avalara Communications</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/certcapture/">Avalara CertCapture</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                          <li><a href="/developer-dot/resources/support">Developer Support Options</a></li>
                          <li><a href="/developer-dot/blog">Developer Blog</a></li>
                          <li><a href="/developer-dot/resources/webinars">Webinars</a></li>
                          <!--<li><a href="/developer-dot/resources/preferred-developers">Preferred developers</a></li>-->
                          <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                          <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/support"><span class="text-uppercase">Developer Support Options</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/blog"><span class="text-uppercase">Developer Blog</span></a></li>
                    <!--<li class="resources visible-xs-block"><a href="/developer-dot/resources/preferred-developers"><span class="text-uppercase">Preferred developers</span></a></li>-->
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                </ul>


                <a href="/developer-dot/avatax/signup/" class="btn btn-primary btn-signup">Free Trial</a>

            </div>
        </nav>
    </header>
    <div class="container-fluid blog">
        
        
        <section class="row padding-sides">
            <main class="col-md-12">
<div class="breadcrumbs blog">
    <div class="col-md-12">
        <ul class="pipe">
            <li class="text-uppercase">Resources</li>
            <li class="text-uppercase"><a href="/developer-dot/blog">Developer Blog</a></li>
            
            <li class="text-uppercase">Getting Started with AvaTax REST v2</li>
            
        </ul>
    </div>
</div>
<br />



<div class="half">
    <h1>Getting Started with AvaTax REST v2</h1>
    <p class="byline">By Ted Spence | October 04, 2016</p>
    <p class="blog-content"><h2>It's time to make taxing more relaxing!</h2>

<p>Over the next fifteen minutes, I’ll walk you through the process of using Avalara’s V2 REST API to implement a simple web-based eCommerce platform.  We’ll show you how to request an account, set up a company, and process tax for that company.  Everything we will do today can be fully scripted - so as soon as you’ve gone through this demo, you’ll be know everything you need to add transactional taxes to your platform.</p>

<p>For today, we’ll set up the company “Bob’s Artisan Pottery”, an online store that sells mugs.  As Bob McExample, owner and proprietor, we’ll set up an account and begin selling mugs using the new REST API.</p>

<h2>Create an AvaTax Account</h2>

<p>The first step for Mr. McExample is to create an AvaTax account.  Let’s get started right now by visiting <a href="/developer-dot/avatax/signup/">/avatax/signup/</a> and signing up for a new account.  Here’s the information we need to put in - just a few fields including your email address and a phone number:</p>

<p>Go ahead and click the <b>Get Started</b> button.  Your account will be provisioned in just a few moments - now is a good time to get a pen and paper handy so you can write down your credentials.  You’ll need to keep track of, at a minimum, these things:</p>

<ul class="normal">
<li>An Account ID;</li>
<li>An API license key;</li>
<li>A username (which will be the same as your email address); and</li>
<li>A password.</li>
</ul>

<p>So in a moment or two, you should receive an email from support@avalara.com with the subject Your AvaTax Development Username, Password &amp; Set Up Instructions.  This email contains your username and a temporary password; let’s finish the setup process quickly:</p>

<ul class="normal">
<li>Log on to the Avalara admin site here using your temporary password: <a href="https://admin-development.avalara.net">https://admin-development.avalara.net</a></li>
<li>You'll be prompted to retype the temporary password, and create a new one.  Click <b>Next</b>.</li>
<li>You'll be asked to confirm a few license details - click <b>Next</b>.</li>
<li>Finally, you'll see a screen listing your account ID and license key.  </li>
<li>Once you've written down this information, let's proceed!</li>
</ul>

<h2>Listing All My Companies</h2>

<p>As Bob’s Artisan Pottery store, we will need to begin by adding a “Company” record to keep track of our sales.  Since Avalara works for all companies both small and large, you can use the AvaTax API whether you have a single corporate entity or whether you manage lots of different registered businesses.  Let’s start by listing all the companies defined in this account.In AvaTax, we list companies by calling <a href="/developer-dot/api-reference/avatax/rest/v2/methods/Companies/CreateCompanies/">/api-reference/avatax/rest/v2/methods/Companies/CreateCompanies/</a> - but we need to authenticate against the API.  In order to do this, we need to add a basic authentication header to our web request.  Let’s start by creating our basic authentication header.  If you’re writing code, your programming language likely supports Base64 encoding directly.  Here’s how to construct the basic authentication header in C# - most other programming languages work the same way:</p>

<div class="language-csharp highlighter-rouge"><pre class="highlight"><code>	<span class="kt">string</span> <span class="n">combined</span> <span class="p">=</span> <span class="n">String</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"{0}:{1}"</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="p">);</span>
	<span class="kt">byte</span><span class="p">[]</span> <span class="n">bytes</span> <span class="p">=</span> <span class="n">Encoding</span><span class="p">.</span><span class="n">UTF8</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">combined</span><span class="p">);</span>
	<span class="kt">string</span> <span class="n">base64</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Convert</span><span class="p">.</span><span class="nf">ToBase64String</span><span class="p">(</span><span class="n">bytes</span><span class="p">);</span>
	<span class="n">HttpClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpClient</span><span class="p">();</span>
	<span class="n">client</span><span class="p">.</span><span class="n">DefaultRequestHeaders</span><span class="p">.</span><span class="n">Authorization</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AuthenticationHeaderValue</span><span class="p">(</span><span class="s">"Basic"</span><span class="p">,</span> <span class="n">base64</span> <span class="p">);</span>
</code></pre>
</div>

<p>If you’d like to type along with me without using a programming language, we can create an authentication header by hand.  Here’s how you do it:</p>

<div class="mobile-table">
  <table class="styled-table">
      <tr>
          <th>Task</th>
          <th>Result</th>
      </tr>
    <tr>
      <td>Start with the word "Basic" followed by username and password.</td>
      <td><pre>Basic username:password</pre></td>
    </tr>
    <tr>
      <td>Replace "username" with your username, and "password" with your password.</td>
      <td><pre>Basic bob@example.org:bobspasswordgoeshere</pre></td>
    </tr>
    <tr>
      <td>Now use your favorite <a href="https://www.google.com/webhp#q=base64+encoding">Base64 encoding program</a> to encode the right hand side of the string.</td>
      <td><pre>Basic Ym9iQGV4YW1wbGUub3JnOmJvYnNwYXNzd29yZGdvZXNoZXJl</pre></td>
    </tr>
  </table>
</div>

<p>Of course, to make this work, you’ll have to use your username and password instead of Bob McExample’s information.  Once you’ve completed your basic authentication header, let’s make an API call to list companies:</p>

<ul class="normal">
<li>Launch the <b>List Companies</b> API by clicking this URL: <a href="/developer-dot/api-reference/avatax/rest/v2/methods/Companies/QueryCompanies/">/api-reference/avatax/rest/v2/methods/Companies/QueryCompanies/</a></li>
<li>In the <b>Authorization</b> field, type in your basic authentication header from above.</li>
<li>Finally, click the <b>Try It</b> button on the page.  Here's the result you should get:</li>
</ul>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"@recordsetCount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>So, it looks like our account is pretty much empty.  Let’s move on to our first action - initializing our company!</p>

<h2>Add a Company</h2>

<p>In order to begin charging taxes, we need to tell AvaTax about our company.  We begin by using the Company Initialization API, which will create the company’s tax profile, register the key contact person for that company, and create a physical location.  All of these things affect the way we calculate tax for this company.  If you represent a more complex company with multiple subsidiaries, you may need to set each one up separately; please contact your customer account manager for more customized help!</p>

<p>Here’s what we need to get started:</p>
<ul class="normal">
<li>Our company name - this can be different from your legal name, which is only required when filing tax returns.</li>
<li>We must select a unique company code.  If our account will have more than one company, each company must have a unique code.</li>
<li>For US companies, we will need our U.S. Taxpayer ID Number, which is either your company's TIN for corporations or a social security number for individuals.</li>
<li>For European companies, you may need to provide a VAT registration ID.</li>
<li>The name, title, and email address of a contact person for this company.</li>
<li>A phone number, and optionally mobile / fax numbers.</li>
<li>And, finally, the address of your company.  The address is important - it establishes the location where tax must be collected when you sell a mug.  That's a feature called Nexus - you can learn more about it on Avalara's Helping Customers Determine Nexus page.  For the moment, let's set up as a business with a single location.  This company initialization API is for companies with only a single location; if you have a more complex company profile, we'll have to set up each company, location, and nexus in a more customized fashion.</li>
</ul>

<p>Once you’ve gathered this information, we create a request that looks like this:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w">	</span><span class="p">{</span><span class="w">
	  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob's Artisan Pottery"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"vatRegistrationId"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"taxpayerIdNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123456789"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main Street"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"line2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"line3"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Irvine"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92615"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"firstName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bob"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"lastName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"McExample"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Owner"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob@example.org"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"phoneNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7145551212"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"mobileNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7145551212"</span><span class="p">,</span><span class="w">
	  </span><span class="nt">"faxNumber"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
	</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Our next step is to create this company object using the REST API.  Here’s how:</p>

<ul class="normal">
<li>Launch the Company Initialization API by clicking this link: <a href="/developer-dot/api-reference/avatax/rest/v2/methods/Companies/CompanyInitialize/">Company Initialization</a></li>
<li>In the <b>Authorization</b> field, fill in the same credentials you typed in earlier.</li>
<li>In the <b>Model</b> text box, copy and paste the information about the company above.</li>
<li>Click <b>Try It</b></li>
</ul>

<p>The server will respond with information about the company that you just created.  Alright!  Now let’s start selling products!</p>

<h2>Processing Transactions</h2>

<p>For our first sale, let’s begin by selling a mug and a vase.  All transactions need a few things:</p>

<ul class="normal">
<li>A Transaction Code, which is a unique code referring to this transaction.  You can make this a GUID, for example; or you could number transactions by today's date.  Whatever works for you - they just need to be unique.</li>
<li>The Company Code you created earlier.</li>
<li>A Customer Code that tells us what type of customer bought the mug.  This will become important later when we learn that some customers are exempt from sales tax!  For the moment, you can provide any customer code you like, and you'll be able to set up a customer as exempt later.</li>
<li>The address of the transaction.  You can provide both a ShipFrom and a ShipTo address, or you can specify a SingleLocation transaction.  For today's demo, we'll show you a mug mailed from the studio to a customer in San Francisco.</li>
<li>A list of items sold on the invoice.  </li>
</ul>

<p>If we sold two separate mugs and a vase in a single order, the transaction might look like this:</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"companyCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DEFAULT"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SalesInvoice"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20160830-001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"customerCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OnlineCustomer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-08-30T15:28:09.875Z"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"ShipFrom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123 Main Street"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Irvine"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92615"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"ShipTo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"line1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100 Market Street"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Francisco"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"region"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"US"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"postalCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94105"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"lines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">27.50</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Starry Night Mug"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">149.99</span><span class="p">,</span><span class="w">
        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Floor Standing Vase"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>Alright, we’ve defined our transaction - let’s go ahead and calculate the tax!</p>

<ul class="normal">
<li>Launch the online Create Transaction API by clicking this link: <a href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/CreateTransaction/">Create Transaction</a></li>
<li>Tax transactions must be calculated using your account's license key.  In the <b>Authorization</b> field, we'll need to type in credentials using your AccountId as the username and your license key as the password.  You can build this authorization string using your favorite <a href="https://www.google.com/webhp#q=base64+encoding">Base64 encoding program</a> just as we did earlier; then paste the result into the Authorization field.  It should look like this: <pre>Basic MTIzNDU2Nzg5OkxJQ0VOU0VLRVk=</pre></li>
<li>In the <b>Model</b> text box, copy and paste the transaction we built above.</li>
<li>Click <b>Try It</b></li>
</ul>

<p>The information you’ll get back is rather large.  You’ll receive back a full comprehensive list of details about everything in this transaction, including the list of all jurisdictions that applied tax to this transaction and how much.  But for the moment - the important thing is that you’ve got all the data you need to charge the customer the correct amount, and help collect and remit the right amount of tax!</p>

<h2>Next Steps</h2>

<p>There’s a lot more you can do with AvaTax.  You can integrate accounting systems; you can keep track of sales orders and convert them to invoices later; you can set up some customers as exempt, and you can set up nexus in more than one location at a time.  AvaTax is ready to support all the functionality you need for a fully featured tax platform - want to know more?  Contact your account representative today!</p>

<p>–Ted Spence, Director, AvaTax Core Engine</p>
</p>
    <p class="btn-callout"><a href="/developer-dot/blog" role="button">Back to posts</a></p>
    <div>
        <div>
    <!-- Begin MailChimp Signup Form -->
<link href="/developer-dot//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://avalara.us17.list-manage.com/subscribe/post?u=e2114eae65572ca4675c4ae37&amp;id=a37ce2da48" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Want updates on the lastest blog posts? Sign up for our newsletter.</label>
    <div class="input-group">
        <input type="email" value="" name="EMAIL" class="form-control" id="mce-EMAIL" placeholder="Email Address" required/>
        <span class="input-group-btn">
            <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-default button"/>
        </span>
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_e2114eae65572ca4675c4ae37_a37ce2da48" tabindex="-1" value=""></div>
    </div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->
</div>
    </div>
</div>

    
</main>
        </section>
         
        <section class="row padding-sides">
            <main class="col-md-12"><div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'developeravalaracom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</main>
        </section>
        
    </div>
    <footer>
        <ul class="global">
            <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
            <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
        </ul>


        <ul class="social">
            <li class="twitter"><a href="https://twitter.com/avadev">Twitter</a></li>
            <li class="facebook"><a href="https://www.facebook.com/avalara">Facebook</a></li>
            <li class="linkedin"><a href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
            <li class="youtube"><a href="https://www.youtube.com/user/Avalara1">Youtube</a></li>
        </ul>
        
        


        <ul class="legal">
            <li>&copy; 2017 Avalara, Inc. All rights reserved</li>
            <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
            <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
        </ul>

        <ul class="github">
            <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/_posts/2016-10-04-getting-started-with-avatax-rest-v2.md"><span>GH</span> Edit this page on GitHub</a></li>

        </ul>
    </footer>

    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>
    <script src="/developer-dot/public/js/site.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

     

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>
