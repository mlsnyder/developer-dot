<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REST v2.17.2 Patch Notes | Avalara Developer</title>

    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    
    <meta property="og:title" content="REST v2.17.2 Patch Notes | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="API solutions for end-to-end tax compliance"/>

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css"> 
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=blog>
    <header>
        <div class="pageTitle">
            <a href="/developer-dot/">
                <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                <span>Developer</span>
            </a>
            <span class="slash">/&nbsp;</span><a href="/developer-dot/blog">blog</a>
        </div>
        <nav class="navbar navbar-default navbar-static">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav  ">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Tax calculation</h2>
                                    
                                    <h4>Avalara AvaTax</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/avatax">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/avatax/dev-guide">Developer Guide</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                        
                                        <br/>
                                        <li><a href="/developer-dot/avatax/use-cases">Use Cases</a></li>
                                        <li><a href="/developer-dot/avatax/get-started">Start your AvaTax free trial now!</a></li>
                                    </ul>
                                     
                                    <h4>Avalara Communications</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/communications">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/communications/afc-rest">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara Excise</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/excise">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                                <div class="col-sm-6">
                                    <h2>Compliance document management</h2>
                                    
                                    <h4>Avalara CertCapture</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/certcapture">Overview</a></li>
                                        
                                        <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                        
                                    </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    <h4>Avalara TrustFile</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/trustfile">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li ><a href="/developer-dot/avatax/get-started">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                        </ul>
                    </li>
                    <li class="tests"><a href="/developer-dot/tests/testing-your-integration/"><span class="text-uppercase">Tests</span></a></li>
                    <!-- removing until the link to the Self-Test is fugured out -->
                    <!--
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/tests/self-test">Avalara Self-Test Tool</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>
                        </ul>
                    </li> -->

                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggel" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Avalara AvaTax</a></li>
                            <li><a href="/developer-dot/certification/communications-certification/">Avalara Communications</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/certcapture/">Avalara CertCapture</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                          <li><a href="/developer-dot/resources/support">Developer Support Options</a></li>
                          <li><a href="/developer-dot/blog">Developer Blog</a></li>
                          <li><a href="/developer-dot/resources/webinars">Webinars</a></li>
                          <!--<li><a href="/developer-dot/resources/preferred-developers">Preferred developers</a></li>-->
                          <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                          <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/support"><span class="text-uppercase">Developer Support Options</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/blog"><span class="text-uppercase">Developer Blog</span></a></li>
                    <!--<li class="resources visible-xs-block"><a href="/developer-dot/resources/preferred-developers"><span class="text-uppercase">Preferred developers</span></a></li>-->
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                </ul>


                <a href="/developer-dot/avatax/signup/" class="btn btn-primary btn-signup">Free Trial</a>

            </div>
        </nav>
    </header>
    <div class="container-fluid blog">
        
        
        <section class="row padding-sides">
            <main class="col-md-12">
<div class="breadcrumbs blog">
    <div class="col-md-12">
        <ul class="pipe">
            <li class="text-uppercase">Resources</li>
            <li class="text-uppercase"><a href="/developer-dot/blog">Developer Blog</a></li>
            
            <li class="text-uppercase">REST v2.17.2 Patch Notes</li>
            
        </ul>
    </div>
</div>
<br />



<div class="half">
    <h1>REST v2.17.2 Patch Notes</h1>
    <p class="byline">By Ted Spence | February 16, 2017</p>
    <p class="blog-content"><p>This article is about the February 2017 monthly update to the AvaTax REST v2 API.</p>

<div class="mobile-table">
    <table class="styled-table">
        <tr>
            <th>Environment</th>
            <th>URL</th>
            <th>Release Date</th>
        </tr>
        <tr>
            <td>Sandbox</td>
            <td><a href="https://sandbox-rest.avatax.com">https://sandbox-rest.avatax.com</a></td>
            <td>2017-02-23</td>
        </tr>
        <tr>
            <td>Production</td>
            <td><a href="https://rest.avatax.com">https://rest.avatax.com</a></td>
            <td>2017-02-27</td>
        </tr>
    </table>
</div>

<h2>Free Tax Rates!</h2>

<p>Avalara is pleased to announce the freely available REST v2 TaxRates API!  The TaxRates API provides basic tax functionality for no cost.</p>

<p>You also now have available an API that creates a <a href="/developer-dot/api-reference/avatax/rest/v2/methods/Free/RequestFreeTrial/">free 30-day trial of AvaTax Professional</a>.  This free trial account comes with no obligations and allows you to experiment with a fully featured version of Avalara AvaTax.  After 30 days, you may continue to use the free TaxRates API or you can upgrade to a full account.</p>

<p>For more information on using the free TaxRates API, please see <a href="/developer-dot/blog/2016/11/04/estimating-tax-with-rest-v2/">Estimating Tax with REST v2</a>.</p>

<h2>Onboarding API in REST v2</h2>

<p>With the release of 2.17.2, all functionality from the existing Onboarding API has been fully migrated to REST v2.  Avalara will be deprecating the existing onboarding API, and will work with individual partners to assist them in upgrading to REST v2.</p>

<h2>Jurisdiction Override API</h2>

<p>For customers who have a need to fine-tune Avalara’s address resolution software, we provide the new Jurisdiction Override API.  A jurisdiction override is a flag that tells AvaTax to calculate a specific address according to the rules of a slightly different nearby jurisdiction.  This functionality is often useful when a company has set up business on the boundary between two tax regions and may need to request specific tax treatment if they have received a ruling from a tax authority that they should be using specific tax rules.</p>

<p>Customers have always had the ability to log onto Admin Console to create these overrides through a friendly web interface; this new API allows a customer to make these same adjustments via a programmatic interface.</p>

<h2>Updated Returns APIs</h2>

<p>Significant upgrades and functionality have been enhanced to Avalara’s Managed Returns Service API, including:</p>

<ul class="normal">
    <li>TaxAuthorityId information now available on filings</li>
    <li>Filing status is now returns as an enumeration</li>
    <li>Filings are now designated as accrual or filing types</li>
    <li>Notices endpoint allows download of attachments</li>
    <li>Filing request approval process bugfixes and enhancements</li>
</ul>

<p>The managed returns APIs are available by invitation only.</p>

<h2>Friendly Authentication in Swagger</h2>

<p>We have updated to the latest release of <a href="/developer-dot/api-reference/avatax/rest/v2/">API Documentation</a>!  You can tell we upgraded because the new color is Orange.  One great side effect of the latest update is that we now support browser-based authentication both via Avalara Identity and username/password credentials!  Here’s how it will work.</p>

<p>First, you click the <code class="highlighter-rouge">Authorize</code> button in the top right of the API reference screen.</p>

<p><img src="/developer-dot/public/images/blog/swagger-auth.png" alt="OAuth Sign In" height="79" width="497" /></p>

<p>Next, you can choose to either authenticate via OAuth 2.0 or Username/Password:</p>

<p><img src="/developer-dot/public/images/blog/oauth-popup.png" alt="OAuth Pop Up" height="270" width="278" /></p>

<p>We recommend authenticating via OAuth 2.0, since it works using a unique bearer token that is valid for 30 minutes at a time.  This token is automatically transmitted from Avalara Identity to the API server under a secure channel, so you can experiment with the swagger API without having to encode your username and password into a Base64 string.</p>

<p>When you click the OAuth 2.0 link, you’ll redirect to Avalara Identity, the new universal sign-on page for Avalara products:</p>

<p><img src="/developer-dot/public/images/blog/oauth-sign-in.png" alt="OAuth Sign In" height="206" width="374" /></p>

<p>Type in your username and password and click <code class="highlighter-rouge">Login</code>.  You’ll be redirected back to the AvaTax API documentation, and all calls to the API will be fully authenticated.  When your token expires, you’ll be redirected back to Avalara Identity to login again.</p>

<h2>Lock Document API</h2>

<p>Customers wishing to test the behavior of document locking will be able to use a new Document Lock API in sandbox.  The document lock API will be available in production by invitation only.</p>

<h2>Changes to Existing API</h2>

<h3>POST /api/v2/transactions/create</h3>

<ul class="normal">
    <li>Date fields on the CreateTransaction API call now only show date, with no time information or time zone offset.  This means that customers should see consistent behavior for the date of their API call regardless of the time zone in which they are calling the application.</li>
    <li>In 2.17.1, it was possible to specify the tax date of a transaction in two different places: Both the root document level as <code class="highlight-rouge">taxDate</code>, and also in the <code class="highlight-rouge">taxOverride.taxDate</code> element.  We have removed the <code class="highlight-rouge">taxDate</code> element and standardized on <code class="highlight-rouge">taxOverride.taxDate</code>.  Code that transmits the <code class="highlight-rouge">taxDate</code> element will have no effect on a transaction.</li>
    <li>Some customers have expressed confusion about what happens when line-level address overrides are created on a transaction with more than one line.  Avalara's policy is that overriding any one address on a line shall override all addresses on the line.  This means that if you set the <code class="highlight-rouge">shipTo</code> element at the document level, and then set the <code class="highlight-rouge">shipFrom</code> element at the line level, the line level will not inherit the <code class="highlight-rouge">shipTo</code> address from the document.</li>
    <li>Customers wishing to override addresses for one line on a transaction must override all addresses for that one line.  If you leave the <code class="highlight-rouge">line.addresses</code> object null, it will inherit all addresses from the root document element.</li>
    <li>Latitude and Longitude are now returned when creating or fetching a document.</li>
    <li>The <code class="highlight-rouge">reportingLocationCode</code> field on the document level is now correctly updated and returned in results.</li>
</ul>

<h3>GET and POST /api/v2/addresses/resolve</h3>

<p>Address resolution APIs now also return an address type code indicating the type of address identified by our service.</p>

<h3>POST /api/v2/companies/123/nexus</h3>

<p>The nexus object has been updated to use dates only, with no time or time zone information.  This prevents display problems where a nexus created in one time zone will behave differently in a different time zone.</p>

<p>Error messages for nexus creation have been updated to increase usability of nexus APIs.</p>

<h3>GET /api/v2/companies/ABC/transactions</h3>

<p>Listing transactions by company now returns a fully valid RecordsetCount value.</p>

<p>Results from transaction search APIs are delayed by 1-5 seconds from live data to reduce impact on production services.</p>

<h3>GET /api/v2/companies/123/batches</h3>

<p>Users fetching batches and batch files now no longer automatically download the batch files with each API call.</p>

<p>Users can use the new <code class="highlighter-rouge">GET /api/v2/companies/123/batches/456/files/789/attachment</code> API to retrieve the actual file for each batch.  This allows users to download only the specific batch attachments that they wish to retrieve.</p>

<p>The <code class="highlighter-rouge">content</code> element in a batch object will now be null on retrieval.</p>

<h2>Other Bugfixes and Improvements</h2>

<ul class="normal">
    <li>Accounts with AvaTaxPro that do not have an AvaTaxST subscription now correctly work with transaction APIs</li>
    <li>Batch service fileshare uptime tests updated</li>
</ul>

<p>–Ted Spence, Director, AvaTax Core Engine</p>
</p>
    <p class="btn-callout"><a href="/developer-dot/blog" role="button">Back to posts</a></p>
    <div>
        <div>
    <!-- Begin MailChimp Signup Form -->
<link href="/developer-dot//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
<form action="https://avalara.us17.list-manage.com/subscribe/post?u=e2114eae65572ca4675c4ae37&amp;id=a37ce2da48" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
    <div id="mc_embed_signup_scroll">
    <label for="mce-EMAIL">Want updates on the lastest blog posts? Sign up for our newsletter.</label>
    <div class="input-group">
        <input type="email" value="" name="EMAIL" class="form-control" id="mce-EMAIL" placeholder="Email Address" required/>
        <span class="input-group-btn">
            <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="btn btn-default button"/>
        </span>
        <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
        <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_e2114eae65572ca4675c4ae37_a37ce2da48" tabindex="-1" value=""></div>
    </div>
    </div>
</form>
</div>

<!--End mc_embed_signup-->
</div>
    </div>
</div>

    
</main>
        </section>
         
        <section class="row padding-sides">
            <main class="col-md-12"><div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'developeravalaracom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</main>
        </section>
        
    </div>
    <footer>
        <ul class="global">
            <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
            <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
        </ul>


        <ul class="social">
            <li class="twitter"><a href="https://twitter.com/avadev">Twitter</a></li>
            <li class="facebook"><a href="https://www.facebook.com/avalara">Facebook</a></li>
            <li class="linkedin"><a href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
            <li class="youtube"><a href="https://www.youtube.com/user/Avalara1">Youtube</a></li>
        </ul>
        
        


        <ul class="legal">
            <li>&copy; 2017 Avalara, Inc. All rights reserved</li>
            <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
            <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
        </ul>

        <ul class="github">
            <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/_posts/2017-02-16-rest-v2-17-2-patch-notes.md"><span>GH</span> Edit this page on GitHub</a></li>

        </ul>
    </footer>

    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>
    <script src="/developer-dot/public/js/site.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

     

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>
