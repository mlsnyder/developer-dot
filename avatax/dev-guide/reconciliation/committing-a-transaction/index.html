<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4.1 - Committing a Transaction | Avalara Developer</title>

    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    
    <meta property="og:title" content="4.1 - Committing a Transaction | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="API solutions for end-to-end tax compliance"/>

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css"> 
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=avaTax>
    <header>
        <div class="pageTitle">
            <a href="/developer-dot/">
                <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                <span>Developer</span>
            </a>
            <span class="slash">/&nbsp;</span><a href="/developer-dot/avatax">avaTax</a>
        </div>
        <nav class="navbar navbar-default navbar-static">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav apis ">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Tax calculation</h2>
                                    
                                    <h4>Avalara AvaTax</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/avatax">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/avatax/dev-guide">Developer Guide</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                        
                                        <br/>
                                        <li><a href="/developer-dot/avatax/use-cases">Use Cases</a></li>
                                        <li><a href="/developer-dot/avatax/get-started">Start your AvaTax free trial now!</a></li>
                                    </ul>
                                     
                                    <h4>Avalara Communications</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/communications">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/communications/afc-rest">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara Excise</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/excise">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                                <div class="col-sm-6">
                                    <h2>Compliance document management</h2>
                                    
                                    <h4>Avalara CertCapture</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/certcapture">Overview</a></li>
                                        
                                        <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                        
                                    </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    <h4>Avalara TrustFile</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/trustfile">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li ><a href="/developer-dot/avatax/get-started">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                        </ul>
                    </li>
                    <li class="tests"><a href="/developer-dot/tests/testing-your-integration/"><span class="text-uppercase">Tests</span></a></li>
                    <!-- removing until the link to the Self-Test is fugured out -->
                    <!--
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/tests/self-test">Avalara Self-Test Tool</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>
                        </ul>
                    </li> -->

                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggel" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Avalara AvaTax</a></li>
                            <li><a href="/developer-dot/certification/communications-certification/">Avalara Communications</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/certcapture/">Avalara CertCapture</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                          <li><a href="/developer-dot/resources/support">Developer Support Options</a></li>
                          <li><a href="/developer-dot/blog">Developer Blog</a></li>
                          <li><a href="/developer-dot/resources/webinars">Webinars</a></li>
                          <!--<li><a href="/developer-dot/resources/preferred-developers">Preferred developers</a></li>-->
                          <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                          <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/support"><span class="text-uppercase">Developer Support Options</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/blog"><span class="text-uppercase">Developer Blog</span></a></li>
                    <!--<li class="resources visible-xs-block"><a href="/developer-dot/resources/preferred-developers"><span class="text-uppercase">Preferred developers</span></a></li>-->
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                </ul>


                <a href="/developer-dot/avatax/signup/" class="btn btn-primary btn-signup">Free Trial</a>

            </div>
        </nav>
    </header>
    <div class="container-fluid dev_guide">
        
          


<div class="breadcrumbs">
    <div class="col-md-12">
        <ul class="pipe">
            <li><span class="text-uppercase">Tax Calculation API</span>s</li>
            <li class="text-uppercase"><a href="/developer-dot/avatax">Avalara avaTax</a></li>
            <li class="text-uppercase">dev guide</li>
        </ul>
    </div>
</div>
  
        <section class="row">
            <main class="col-md-12">
  
    <div class="row padding-sides half">
      <nav class="col-md-3">
        <div id='the-nav' class='nav wrapper hidden-xs hidden-sm dev-guide-nav' style='height: 100%; overflow-y:auto;'>
    <h3>Chapters</h3>
    <ol>
        <li ><a href="/developer-dot/avatax/dev-guide/getting-started-with-avatax/">Getting Started with AvaTax</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/transactions/">Transactions</a>
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/customizing-transaction/">Customizing Your Transactions</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/reconciliation/">Reconciliation</a>
            
            <ol>
                <li><a href="/developer-dot/avatax/dev-guide/reconciliation/committing-a-transaction">Committing a Transaction</a></li>
                <li><a href="/developer-dot/avatax/dev-guide/reconciliation/modifying-a-transaction">Modifying a Transaction</a></li>
                <li><a href="/developer-dot/avatax/dev-guide/reconciliation/chapter-summary">Chapter Summary</a></li>
            </ol>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/product-taxability/">Product Taxability</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/">Discounts and Overrides</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/shipping-and-handling/">Shipping and Handling</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/exemptions/">Exemptions</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/locations/">Locations</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/consumer-use-tax/">Consumer Use Tax</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/calculating-tax-offline/">Calculating Tax Offline</a>
            
        </li>
    </ol>
    <!--
    <h3>Appendices</h3>
    <ul>
        <li ><a href="/developer-dot/avatax/dev-guide/appendix-batch-files/">Appendix: Batch Files</a></li>
        <li ><a href="/developer-dot/avatax/dev-guide/appendix-business-development/">Appendix: Business Developement</a></li>
        <li ><a href="/developer-dot/avatax/dev-guide/appendix-cloud-connect/">Appendix: Cloud Connect</a></li>
        <li ><a href="/developer-dot/avatax/dev-guide/appendix-global-taxes/">Appendix: Global Taxes</a></li>
    </ul> -->

   <!-- <h3><a href="/developer-dot/avatax/dev-guide/glossary/">Glossary</a></h3> -->
</div>

      </nav>
      <main class="col-md-9 small-no-padding">
        <h1>
            4.1 - Committing a Transaction
            
        </h1>
        <ul class="pager">
  <li class="previous"><a href="/developer-dot/avatax/dev-guide/reconciliation/"><i class="glyphicon glyphicon-chevron-left"></i>Previous</a></li>
  <li class="next"><a href="/developer-dot/avatax/dev-guide/reconciliation/modifying-a-transaction/">Next<i class="glyphicon glyphicon-chevron-right"></i></a></li>
</ul>
<p>The concept of committing a transaction is necessary to separate preliminary estimates from final sales.  Many types of connectors exist, for example:</p>

<ul class="normal">
    <li>A direct sales store might commit all transactions immediately and declare that all sales are final.  Adjustments are handled by refunding all or part of the transaction.</li>
    <li>A simple accounting system might only commit transactions after they have been verified.  This allows a salesperson to quickly write transactions, which will then be double-checked by a back office employee before fulfillment.  Adjustments are handled by modifying the transaction before it is locked for reporting.</li>
    <li>A complex accounting system might provide multiple stages of verification.  A transaction can be marked Posted after the first verification step, and Committed after the second.  Adjustments are handled by modifying the transaction before it is reported.</li>
</ul>

<p>Here’s how to implement <code>commit</code> for each of these scenarios.</p>

<h3>Direct Commit</h3>

<p>For software that considers all transactions final, you will create a transaction directly using the <code>"commit": "true"</code> flag in the <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/CreateTransaction/">CreateTransaction</a> API call.</p>

<p>Creating transactions directly in <code>Committed</code> status is covered in <a class="dev-guide-link" href="/developer-dot/avatax/dev-guide/transactions/">Chapter 2 - Transactions</a>.</p>

<h3>One Stage Reconciliation</h3>
<p>For software that permits transactions to be verified after creation, transactions are created with the Commit flag set to false.  Transactions that have not been committed are stored with the status code Saved.  They are considered to be provisional; they will not be reported to a tax authority until they have been verified.</p>

<p>Your back-end system should provide a way for your management team to review <code>Saved</code> transactions and perform reconciliation.  A good way to design a verification process for a back-end systems team is to call <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/ListTransactionsByCompany/">ListTransactionsByCompany</a> and pass in the parameter <code>$filter=status eq Saved</code>.  This API call will list all transactions for your company that have not yet finished reconciliation, and you can use this to display a queue of transactions to be reconciled.</p>

<p>When a transaction has been reconciled and is final, your software will use the <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/CommitTransaction/">CommitTransaction</a> API call to mark the transaction as committed.  Here’s how to commit a transaction:</p>

<pre>
POST https://sandbox-rest.avatax.com/api/v2/companies/DEVGUIDE/transactions/MYTRANSACTIONCODE/commit

{
  "commit": "true"
}
</pre>

<p>Now that you have this process in place, let’s verify that your connector can set up a one-stage transaction correctly.  This test case is required only for connectors that use one-stage reconciliation.</p>

<div class="dev-guide-test" id="test1">
    <div class="dev-guide-test-heading">Test Case - 4.1.1</div>
<div class="dev-guide-test-content">
<h4>Setup</h4>
<ul class="dev-guide-list">
    <li>In your connector, create the following transaction:</li>
        <ul class="dev-guide-list">
            <li>Document Type: SalesInvoice</li>
            <li>Document Code: Chapter-4-Test-1</li>
            <li>Company Code: DEVGUIDE</li>
            <li>Document Date: 2017-06-15</li>
            <li>Customer Code: TESTCUSTOMER</li> 
        </ul>
        <li>Addresses:
            <ul class="dev-guide-list">
                <li>SingleLocation</li>
                <li>100 Ravine Lane NE, Bainbridge Island, WA, 98110</li>
            </ul>
        </li>
        <li>Line #1:
            <ul class="dev-guide-list">
                <li>Amount 100</li>
                <li>TaxCode P0000000</li>
            </ul>
        </li>
        <li>Set the commit flag to false.</li>
    <li>Calculate tax for your transaction.</li>
    <li>Next, trigger a call to CommitTransaction with the following options:</li>
    <ul class="dev-guide-list">
        <li>Company Code: DEVGUIDE</li>
        <li>Transaction Code: Chapter-4-Test-1</li>
        <li>Commit: "true"</li>
    </ul> 
  </ul> 

<h4>Assertions</h4>
<ul class="dev-guide-list">
    <li>The transaction's status will be "Committed".</li>
</ul>
<div class="dev-guide-dropdown">
        <input id="checkbox_toggle1" type="checkbox" />
        <i id="icon-up" class="glyphicon glyphicon-chevron-down"></i><i id="icon-down" class="glyphicon glyphicon-chevron-right"></i>
        <label for="checkbox_toggle1"><h4>Expected API Call</h4></label>
        <ul class="dev-guide-dropdown-content">
            <li> CreateTransaction:
                <pre>
{
  "type": "SalesInvoice",
  "code": "Chapter-4-Test-1",
  "companyCode": "DEVGUIDE",
  "date": "2017-06-15",
  "customerCode": "TESTCUSTOMER",
  "commit": "false",
  "addresses": {
    "singleLocation": {
      "line1": "100 Ravine Lane NE",
      "city": "Bainbridge Island",
      "region": "WA",
      "country": "US",
      "postalCode": "98110"
    }
  },
  "lines": [
    {
      "number": "1",
      "amount": 100,
      "taxCode": "P0000000"
    }
  ]
}
                </pre>
            </li>
            <li> CommitTransaction:
                <pre>
{
  "commit": "true"
}
                </pre>
            </li>
        </ul>
    </div>
</div>
</div>

<h3>Two Stage Reconciliation</h3>

<p>Some companies prefer to have multiple stages of reconciliation. In this case, a transaction can go through three statuses: <code>Saved</code>, <code>Posted</code>, and <code>Committed</code>.</p>

<p>The three stages work as follows:</p>
<ul class="dev-guide-list">
    <li>Create a transaction in the status <code>Saved</code> following the same process as for one-stage reconciliation.</li>
    <li>Display a queue of transactions that are in the first stage of reconciliation using <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/ListTransactionsByCompany/">ListTransactionsByCompany</a> with the parameter <code>$filter=status eq Saved</code>.</li>
    <li>When a transaction is ready to move out of the first stage of reconciliation, update it by calling <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/VerifyTransaction/">VerifyTransaction</a>.  The transaction's new status will be <code>Posted</code>.</li>
    <li>Display a queue of transactions that are in the second stage of reconciliation using <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/ListTransactionsByCompany/">ListTransactionsByCompany</a> with the parameter <code>$filter=status eq Posted</code>.</li>
    <li>When a transaction is ready to move out of the second stage of reconciliation, update it by calling <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/CommitTransaction/">CommitTransaction</a> as above.  The transaction's new status will be <code>Committed</code>.</li>
</ul>

<p>In the two-stage reconciliation process, additional verification features are available.  When you call <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/VerifyTransaction/">VerifyTransaction</a>, you can optionally choose to assert that the transaction’s amount matches an amount in a different ledger.  Here’s how the <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/VerifyTransaction/">VerifyTransaction API</a> call works:</p>
<pre>
POST https://sandbox-rest.avatax.com/api/v2/companies/DEVGUIDE/transactions/MYTRANSACTIONCODE/verify
 
{
  "verifyTransactionDate": "2017-06-15",
  "verifyTotalAmount": 100,
  "verifyTotalTax": 6.25
}
</pre>

<p>Your system can maintain and verify these fields if desired, but it is not required.  If your system does not maintain all three values (date, amount, and tax), it is acceptable to verify only one or two of them.</p>

<p>When you provide this information, the API will test the transaction and report an error if any fields do not match.  This feature allows you to perform automated reconciliation of transactions, and to detect discrepancies programmatically.  Your software can call <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/VerifyTransaction/">VerifyTransaction</a> on all entries in your accounting system ledger every evening, and assert that the amounts match expectations.  Any transactions that fail to verify can be escalated for human oversight.</p>

<p>The <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/TaxCodes/ListTaxCodesByCompany/">ListTransactionsByCompany API</a> is intended to help you display a list of transactions that are in any particular stage of the reconciliation process.  You can use it to examine any stage for transactions that need human review.</p>

<p>Let’s examine how a two-stage verification process would work:</p>

<div class="dev-guide-test" id="test2">
    <div class="dev-guide-test-heading">Test Case - 4.1.2</div>
<div class="dev-guide-test-content">
<h4>Setup</h4>
<ul class="dev-guide-list">
    <li>In your connector, create the following transaction:</li>
        <ul class="dev-guide-list">
            <li>Document Type: SalesInvoice</li>
            <li>Document Code: Chapter-4-Test-2</li>
            <li>Company Code: DEVGUIDE</li>
            <li>Customer Code: TESTCUSTOMER</li>
            <li>Document Date: 2017-06-15</li>
        </ul>
        <li>Addresses:
            <ul class="dev-guide-list">
                <li>SingleLocation</li>
                <li>100 Ravine Lane NE, Bainbridge Island, WA, 98110</li>
            </ul>
        </li>
        <li>Line #1:
            <ul class="dev-guide-list">
                <li>Amount 100</li>
                <li>TaxCode P0000000</li>
            </ul>
        </li>
        <li>Set the commit flag to false.</li>
    <li>Calculate tax for your transaction.</li>
    <li>Next, trigger a call to VerifyTransaction with the following options:</li>
    <ul class="dev-guide-list">
        <li>Company Code: DEVGUIDE</li>
        <li>Transaction Code: Chapter-4-Test-1</li>
        <li>VerifyTransactionDate: 2017-06-15</li>
        <li>VerifyTotalAmount: 100</li>
    </ul>  
</ul>
<h4>Assertions</h4>
<ul class="dev-guide-list">
    <li>The transaction's status will be "Posted".</li>
</ul>
<div class="dev-guide-dropdown">
        <input id="checkbox_toggle2" type="checkbox" />
        <i id="icon-up" class="glyphicon glyphicon-chevron-down"></i><i id="icon-down" class="glyphicon glyphicon-chevron-right"></i>
        <label for="checkbox_toggle2"><h4>Expected API Call</h4></label>
        <ul class="dev-guide-dropdown-content">
            <li> CreateTransaction:
                <pre>
{
  "type": "SalesInvoice",
  "code": "Chapter-4-Test-2",
  "companyCode": "DEVGUIDE",
  "date": "2017-06-15",
  "customerCode": "TESTCUSTOMER",
  "commit": "false",
  "addresses": {
    "singleLocation": {
      "line1": "100 Ravine Lane NE",
      "city": "Bainbridge Island",
      "region": "WA",
      "country": "US",
      "postalCode": "98110"
    }
  },
  "lines": [
    {
      "number": "1",
      "amount": 100,
      "taxCode": "P0000000"
    }
  ]
}
                </pre>
            </li>
            <li> VerifyTransaction:
                <pre>
{
 "verifyTransactionDate": "2017-06-15",
 "verifyTotalAmount": 100.00,
 "verifyTotalTax": 9.00
}
                </pre>
            </li>
        </ul>
    </div>
</div>
</div>

<h3>Locked Transactions</h3>

<p>The purpose of committing a transaction is to indicate that the transaction is ready to be reported to a tax authority.  For customers using Avalara’s Managed Returns Service, our software will automatically prepare a liability worksheet for you every filing period and notify you to approve the tax filing.  When you approve the tax filing, all transactions included on that filing are automatically <code>Locked</code>.  A transaction that is locked cannot be changed further - it is considered a permanent part of your company’s accounting record, and must be preserved as is for audit circumstances.</p>

<p>You can determine which transactions are locked by calling the <a class="dev-guide-link" href="/developer-dot/api-reference/avatax/rest/v2/methods/Transactions/ListTransactionsByCompany/">ListTransactionsByCompany</a> API with the parameter <code>$filter=locked eq true</code>.</p>

<p>Any attempt to modify a locked transaction will fail with an error.</p>

<ul class="pager">
  <li class="previous"><a href="/developer-dot/avatax/dev-guide/reconciliation/"><i class="glyphicon glyphicon-chevron-left"></i>Previous</a></li>
  <li class="next"><a href="/developer-dot/avatax/dev-guide/reconciliation/modifying-a-transaction/">Next<i class="glyphicon glyphicon-chevron-right"></i></a></li>
</ul>

      </main>
    </div>
    






</main>
        </section>
          
        <section class="row padding-sides">
            <main class="col-md-12"><div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'developeravalaracom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</main>
        </section>
        
    </div>
    <footer>
        <ul class="global">
            <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
            <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
        </ul>


        <ul class="social">
            <li class="twitter"><a href="https://twitter.com/avadev">Twitter</a></li>
            <li class="facebook"><a href="https://www.facebook.com/avalara">Facebook</a></li>
            <li class="linkedin"><a href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
            <li class="youtube"><a href="https://www.youtube.com/user/Avalara1">Youtube</a></li>
        </ul>
        
        


        <ul class="legal">
            <li>&copy; 2017 Avalara, Inc. All rights reserved</li>
            <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
            <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
        </ul>

        <ul class="github">
            <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/avatax/dev-guide/reconciliation/committing-a-transaction.md"><span>GH</span> Edit this page on GitHub</a></li>

        </ul>
    </footer>

    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>
    <script src="/developer-dot/public/js/site.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

     

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>
