<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6.2 - Discounting a Transaction | Avalara Developer</title>

    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    
    <meta property="og:title" content="6.2 - Discounting a Transaction | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="API solutions for end-to-end tax compliance"/>

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css"> 
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=avaTax>
    <header>
        <div class="pageTitle">
            <a href="/developer-dot/">
                <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                <span>Developer</span>
            </a>
            <span class="slash">/&nbsp;</span><a href="/developer-dot/avatax">avaTax</a>
        </div>
        <nav class="navbar navbar-default navbar-static">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav apis ">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Tax calculation</h2>
                                    
                                    <h4>Avalara AvaTax</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/avatax">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/avatax/dev-guide">Developer Guide</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                        
                                        <br/>
                                        <li><a href="/developer-dot/avatax/use-cases">Use Cases</a></li>
                                        <li><a href="/developer-dot/avatax/get-started">Start your AvaTax free trial now!</a></li>
                                    </ul>
                                     
                                    <h4>Avalara Communications</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/communications">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/communications/afc-rest">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara Excise</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/excise">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                                <div class="col-sm-6">
                                    <h2>Compliance document management</h2>
                                    
                                    <h4>Avalara CertCapture</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/certcapture">Overview</a></li>
                                        
                                        <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                        
                                    </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    <h4>Avalara TrustFile</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/trustfile">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li ><a href="/developer-dot/avatax/get-started">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                        </ul>
                    </li>
                    <li class="tests"><a href="/developer-dot/tests/testing-your-integration/"><span class="text-uppercase">Tests</span></a></li>
                    <!-- removing until the link to the Self-Test is fugured out -->
                    <!--
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/tests/self-test">Avalara Self-Test Tool</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>
                        </ul>
                    </li> -->

                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggel" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Avalara AvaTax</a></li>
                            <li><a href="/developer-dot/certification/communications-certification/">Avalara Communications</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/certcapture/">Avalara CertCapture</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                          <li><a href="/developer-dot/resources/support">Developer Support Options</a></li>
                          <li><a href="/developer-dot/blog">Developer Blog</a></li>
                          <li><a href="/developer-dot/resources/webinars">Webinars</a></li>
                          <!--<li><a href="/developer-dot/resources/preferred-developers">Preferred developers</a></li>-->
                          <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                          <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/support"><span class="text-uppercase">Developer Support Options</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/blog"><span class="text-uppercase">Developer Blog</span></a></li>
                    <!--<li class="resources visible-xs-block"><a href="/developer-dot/resources/preferred-developers"><span class="text-uppercase">Preferred developers</span></a></li>-->
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                </ul>


                <a href="/developer-dot/avatax/signup/" class="btn btn-primary btn-signup">Free Trial</a>

            </div>
        </nav>
    </header>
    <div class="container-fluid dev_guide">
        
          


<div class="breadcrumbs">
    <div class="col-md-12">
        <ul class="pipe">
            <li><span class="text-uppercase">Tax Calculation API</span>s</li>
            <li class="text-uppercase"><a href="/developer-dot/avatax">Avalara avaTax</a></li>
            <li class="text-uppercase">dev guide</li>
        </ul>
    </div>
</div>
  
        <section class="row">
            <main class="col-md-12">
  
    <div class="row padding-sides half">
      <nav class="col-md-3">
        <div id='the-nav' class='nav wrapper hidden-xs hidden-sm dev-guide-nav' style='height: 100%; overflow-y:auto;'>
    <h3>Chapters</h3>
    <ol>
        <li ><a href="/developer-dot/avatax/dev-guide/getting-started-with-avatax/">Getting Started with AvaTax</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/transactions/">Transactions</a>
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/customizing-transaction/">Customizing Your Transactions</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/reconciliation/">Reconciliation</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/product-taxability/">Product Taxability</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/">Discounts and Overrides</a>
            
            <ol>
                <li><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/overrides/">Tax Overrides</a></li>
                <li><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/discounts/">Discounting a Transaction</a></li>
                <li><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/chapter-summary/">Chapter Summary</a></li>
            </ol>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/shipping-and-handling/">Shipping and Handling</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/exemptions/">Exemptions</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/locations/">Locations</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/consumer-use-tax/">Consumer Use Tax</a>
            
        </li>
        <li ><a href="/developer-dot/avatax/dev-guide/calculating-tax-offline/">Calculating Tax Offline</a>
            
        </li>
    </ol>
    <!--
    <h3>Appendices</h3>
    <ul>
        <li ><a href="/developer-dot/avatax/dev-guide/appendix-batch-files/">Appendix: Batch Files</a></li>
        <li ><a href="/developer-dot/avatax/dev-guide/appendix-business-development/">Appendix: Business Developement</a></li>
        <li ><a href="/developer-dot/avatax/dev-guide/appendix-cloud-connect/">Appendix: Cloud Connect</a></li>
        <li ><a href="/developer-dot/avatax/dev-guide/appendix-global-taxes/">Appendix: Global Taxes</a></li>
    </ul> -->

   <!-- <h3><a href="/developer-dot/avatax/dev-guide/glossary/">Glossary</a></h3> -->
</div>

      </nav>
      <main class="col-md-9 small-no-padding">
        <h1>
            6.2 - Discounting a Transaction
            
        </h1>
        <ul class="pager">
  <li class="previous"><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/overrides/"><i class="glyphicon glyphicon-chevron-left"></i>Previous</a></li>
  <li class="next"><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/chapter-summary/">Next<i class="glyphicon glyphicon-chevron-right"></i></a></li>
</ul>

<p>You have several options for handling discounts with AvaTax. However, before we get to into the details we need to call out the different types of discounts you can apply as each is handled differently. Vendor discounts are simply a price reduction in the sale amount of an item or service. Whereas 3rd party (manufacturer) discounts are, generally speaking, a price reduction sponsored by the manufacturer where the vendor is compensated for the reduced price.</p>

<p>When dealing with discounts, there are four basic ways to represent a discount:</p>
<ul class="dev-guide-list">
    <li>A reduction in the sale price</li>
    <li>A line item with a negative amount</li>
    <li>A discount to distribute among lines</li>
    <li>A line item using the Manufacturer Discount TaxCode</li>
</ul>

<p>Let’s review each of these in turn</p>

<h3>Price Reduction Discounts</h3>
<p>For this first discount exercise, we are going to perform the discount before sending the request to AvaTax for a tax calculation. So, if the item has a cost of $100 and you are applying a $10 discount, the GetTax request should have an amount of $90. This is the simplest method for handling a discount as it does not involve any additional fields or lines in the GetTax request.</p>

<div class="dev-guide-test" id="test1">
    <div class="dev-guide-test-heading">Test Case - 6.2.1</div>
<div class="dev-guide-test-content">
<h4>Setup</h4>
<ul class="dev-guide-list">
    <li>You would like to provide a $10 discount on a $100 chair.</li>
    <li>In your connector, create the following transaction:</li>
        <ul class="dev-guide-list">
            <li>Document Type: SalesInvoice</li>
            <li>Document Code: Chapter-6-Test-4</li>
            <li>Company Code: DEVGUIDE</li>
            <li>Document Date: 2017-06-15</li>
            <li>Customer Code: TESTCUSTOMER</li>
        </ul>
        <li>Addresses:
            <ul class="dev-guide-list">
                <li>SingleLocation</li>
                <li>100 Ravine Lane NE, Bainbridge Island, WA, 98110</li>
            </ul>
        </li>
        <li>Line #1:
            <ul class="dev-guide-list">
                <li>Amount 100</li>
                <li>TaxCode P0000000</li>
            </ul>
        </li>
    <li>Calculate tax for your transaction using AvaTax.</li> 
</ul>
<h4>Assertions</h4>
<ul class="dev-guide-list">
    <li>The totalTaxCalculated amount should be $8.10. This is the amount that AvaTax determined is correct.</li>
    <li>Notice that, in the transaction, there is no way to determine that a discount has been applied - you only know the discounted sale price of the transaction.</li>
    <li>Some customers may choose to use Reference Fields to keep track of discounts applied as a price reduction. See <a class="dev-guide-link" href="/developer-dot/avatax/dev-guide/customizing-transaction/">Chapter 3 - Customizing Your Transaction</a> for more information about reference fields.</li>
</ul>
<div class="dev-guide-dropdown">
        <input id="checkbox_toggle1" type="checkbox" />
        <i id="icon-up" class="glyphicon glyphicon-chevron-down"></i><i id="icon-down" class="glyphicon glyphicon-chevron-right"></i>
        <label for="checkbox_toggle1"><h4>Expected API Call</h4></label>
        <ul class="dev-guide-dropdown-content">
            <li> 
                <pre>
{
  "type": "SalesInvoice",
  "code": "Chapter-6-Test-4",
  "companyCode": "DEVGUIDE",
  "date": "2017-06-15",
  "customerCode": "TESTCUSTOMER",
  "addresses": {
    "singleLocation": {
      "line1": "100 Ravine Lane NE",
      "city": "Bainbridge Island",
      "region": "WA",
      "country": "US",
      "postalCode": "98110"
    }
  },
  "lines": [
    {
      "number": "1",
      "amount": 90,
      "taxCode": "P0000000"
    }
  ]
}
                </pre>
            </li>
        </ul>
    </div>
</div>
</div>

<h3>Negative Amount Line Items</h3>

<p>With this, exercise, you will simply add an additional line that contains the discounted amount as a negative extended amount. Please ensure to use the same <code>taxCode</code> on the discount line as the item being discounted. This will ensure that any taxability rules applied to the product/service are also applied to the discount.</p>

<div class="dev-guide-test" id="test2">
    <div class="dev-guide-test-heading">Test Case - 6.2.2</div>
<div class="dev-guide-test-content">
<h4>Setup</h4>
<ul class="dev-guide-list">
    <li>You would like to provide a $10 discount on a $100 T-Shirt.</li>
    <li>In your connector, create the following transaction:</li>
        <ul class="dev-guide-list">
            <li>Document Type: SalesInvoice</li>
            <li>Document Code: Chapter-6-Test-5</li>
            <li>Company Code: DEVGUIDE</li>
            <li>Document Date: 2017-06-15</li>
            <li>CustomerCode: TESTCUSTOMER</li>
        </ul>
        <li>Addresses:
            <ul class="dev-guide-list">
                <li>SingleLocation</li>
                <li>100 Ravine Lane NE, Bainbridge Island, WA, 98110</li>
            </ul>
        </li>
        <li>Line #1:
            <ul class="dev-guide-list">
                <li>Amount 100</li>
                <li>TaxCode PC040100</li>
            </ul>
        </li>
         <li>Line #2:
            <ul class="dev-guide-list">
                <li>Amount -10</li>
                <li>TaxCode PC040100</li>
            </ul>
        </li>
        <li>Calculate tax for your transaction using AvaTax.</li>
</ul>
<h4>Assertions</h4>
<ul class="dev-guide-list">
    <li>The totalTaxCalculated amount should be $8.10. This is the amount that AvaTax determined is correct.</li>
    <li>The taxCode for the discount line should match the line being discounted.</li>
</ul>
<div class="dev-guide-dropdown">
        <input id="checkbox_toggle2" type="checkbox" />
        <i id="icon-up" class="glyphicon glyphicon-chevron-down"></i><i id="icon-down" class="glyphicon glyphicon-chevron-right"></i>
        <label for="checkbox_toggle2"><h4>Expected API Call</h4></label>
        <ul class="dev-guide-dropdown-content">
            <li> 
                <pre>
{
  "type": "ReturnInvoice",
  "code": "Chapter-6-Test-5",
  "companyCode": "DEVGUIDE",
  "date": "2017-06-15",
  "customerCode": "TESTCUSTOMER",
  "addresses": {
    "singleLocation": {
      "line1": "100 Ravine Lane NE",
      "city": "Bainbridge Island",
      "region": "WA",
      "country": "US",
      "postalCode": "98110"
    }
  },
  "lines": [
    {
      "number": "1",
      "amount": 100,
      "taxCode": "P0000000"
    },
    {
      "number": "2",
      "amount": -10,
      "taxcode": "P0000000"
   }
  ]
}
                </pre>
            </li>
        </ul>
    </div>
</div>
</div>

<h3>Automatically Distributed Discounts</h3>

<p>With this exercise you will pass the complete discounted amount in the <code>discount</code> field then identify the lines that are participating in the discount by setting the <code>discounted</code> field to ‘True’. Unlike the other methods, you will enter the total discount as a positive integer with this approach. If no lines have the discounted set to ‘True’, then the discount will NOT be applied.</p>

<div class="dev-guide-test" id="test3">
    <div class="dev-guide-test-heading">Test Case - 6.2.3</div>
<div class="dev-guide-test-content">
<h4>Setup</h4>
<ul class="dev-guide-list">
    <li>You would like to provide a $10 discount on a $100 T-Shirt only.</li>
    <li>In your connector, create the following transaction:</li>
        <ul class="dev-guide-list">
            <li>Document Type: SalesInvoice</li>
            <li>Document Code: Chapter-6-Test-6</li>
            <li>Company Code: DEVGUIDE</li>
            <li>Document Date: 2017-06-15</li>
            <li>CustomerCode: TESTCUSTOMER</li>
            <li>Discount: 10</li>
        </ul>
        <li>Addresses:
            <ul class="dev-guide-list">
                <li>SingleLocation</li>
                <li>100 Ravine Lane NE, Bainbridge Island, WA, 98110</li>
            </ul>
        </li>
        <li>Line #1:
            <ul class="dev-guide-list">
                <li>Amount 100</li>
                <li>TaxCode PC040100</li>
                <li>Discounted: True</li>
            </ul>
        </li>
         <li>Line #2:
            <ul class="dev-guide-list">
                <li>Amount 75</li>
                <li>TaxCode P0000000</li>
                <li>Discounted: False</li>
            </ul>
        </li>
        <li>Calculate tax for your transaction using AvaTax.</li>
</ul>
<h4>Assertions</h4>
<ul class="dev-guide-list">
    <li>The discountAmount for Line 1 should be $10.</li>
    <li>The taxableAmount for Line 1 should be $90</li>
    <li>The TaxCalculated for Line 1 should be $8.10. This is the amount that AvaTax determined is correct.</li>
    <li>The discountAmount for Line 2 should be $0.</li>
    <li>The taxableAmount for Line 1 should be $75</li>
    <li>The TaxCalculated for Line 1 should be $6.75. This is the amount that AvaTax determined is correct.</li>
</ul>
<div class="dev-guide-dropdown">
        <input id="checkbox_toggle3" type="checkbox" />
        <i id="icon-up" class="glyphicon glyphicon-chevron-down"></i><i id="icon-down" class="glyphicon glyphicon-chevron-right"></i>
        <label for="checkbox_toggle3"><h4>Expected API Call</h4></label>
        <ul class="dev-guide-dropdown-content">
            <li> 
                <pre>
{
  "type": "SalesInvoice",
  "code": "Chapter-6-Test-6",
  "companyCode": "DEVGUIDE",
  "date": "2017-06-15",
  "customerCode": "TESTCUSTOMER",
  "discount": "10",
  "addresses": {
    "singleLocation": {
      "line1": "100 Ravine Lane NE",
      "city": "Bainbridge Island",
      "region": "WA",
      "country": "US",
      "postalCode": "98110"
    }
  },
  "lines": [
    {
      "number": "1",
      "amount": 100,
      "taxCode": "P0000000",
      "discounted": "true"
    },
    {
      "number": "2",
      "amount": 75,
      "taxcode": "P0000000",
      "discounted": "false"
    }
  ]
}
                </pre>
            </li>
        </ul>
    </div>
</div>
</div>

<h3>Manufacturer Discount TaxCode</h3>

<p>When working with discounts provided by a 3rd party (ex. manufacturer coupon) the process is very similar to the discount method of adding a line with a negative amount. However in this case, instead of using the same tax code as the item being discounted, you will use the tax code for Coupons (third party) - <code>OC030000</code>. Check out <a class="dev-guide-link" href="/developer-dot/developer-dot/avatax/dev-guide/product-taxability/">Chapter 5 - Product Taxability</a> for more information on tax codes and their function.</p>

<div class="dev-guide-test" id="test4">
    <div class="dev-guide-test-heading">Test Case - 6.2.4</div>
<div class="dev-guide-test-content">
<h4>Setup</h4>
<ul class="dev-guide-list">
    <li>You would like to provide a $10 discount on a $100 T-Shirt.</li>
    <li>In your connector, create the following transaction:</li>
        <ul class="dev-guide-list">
            <li>Document Type: SalesInvoice</li>
            <li>Document Code: Chapter-6-Test-7</li>
            <li>Company Code: DEVGUIDE</li>
            <li>Document Date: 2017-06-15</li>
            <li>Customer Code: TESTCUSTOMER</li>
        </ul>
        <li>Addresses:
            <ul class="dev-guide-list">
                <li>SingleLocation</li>
                <li>100 Ravine Lane NE, Bainbridge Island, WA, 98110</li>
            </ul>
        </li>
        <li>Line #1:
            <ul class="dev-guide-list">
                <li>Amount 100</li>
                <li>TaxCode PC040100</li>
            </ul>
        </li>
         <li>Line #2:
            <ul class="dev-guide-list">
                <li>Amount -10</li>
                <li>TaxCode OC030000</li>
            </ul>
        </li>
        <li>Calculate tax for your transaction using AvaTax</li>
</ul>
<h4>Assertions</h4>
<ul class="dev-guide-list">
    <li>The totalTaxCalculated amount should be $9.00. This is the amount that AvaTax determined is correct.</li>
</ul>
<div class="dev-guide-dropdown">
        <input id="checkbox_toggle4" type="checkbox" />
        <i id="icon-up" class="glyphicon glyphicon-chevron-down"></i><i id="icon-down" class="glyphicon glyphicon-chevron-right"></i>
        <label for="checkbox_toggle4"><h4>Expected API Call</h4></label>
        <ul class="dev-guide-dropdown-content">
            <li> 
                <pre>
{
  "type": "SalesInvoice",
  "code": "Chapter-6-Test-7",
  "companyCode": "DEVGUIDE",
  "date": "2017-06-15",
  "customerCode": "TESTCUSTOMER",
  "addresses": {
    "singleLocation": {
      "line1": "100 Ravine Lane NE",
      "city": "Bainbridge Island",
      "region": "WA",
      "country": "US",
      "postalCode": "98110"
    }
  },
  "lines": [
    {
      "number": "1",
      "amount": 100,
      "taxCode": "P0000000"
    },
    {
      "number": "2",
      "amount": -10,
      "taxcode": "OC030000"
   }
  ]
}             
              </pre>
            </li>
        </ul>
    </div>
</div>
</div>

<ul class="pager">
  <li class="previous"><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/overrides/"><i class="glyphicon glyphicon-chevron-left"></i>Previous</a></li>
  <li class="next"><a href="/developer-dot/avatax/dev-guide/discounts-and-overrides/chapter-summary/">Next<i class="glyphicon glyphicon-chevron-right"></i></a></li>
</ul>

      </main>
    </div>
    






</main>
        </section>
          
        <section class="row padding-sides">
            <main class="col-md-12"><div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'developeravalaracom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</main>
        </section>
        
    </div>
    <footer>
        <ul class="global">
            <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
            <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
        </ul>


        <ul class="social">
            <li class="twitter"><a href="https://twitter.com/avadev">Twitter</a></li>
            <li class="facebook"><a href="https://www.facebook.com/avalara">Facebook</a></li>
            <li class="linkedin"><a href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
            <li class="youtube"><a href="https://www.youtube.com/user/Avalara1">Youtube</a></li>
        </ul>
        
        


        <ul class="legal">
            <li>&copy; 2017 Avalara, Inc. All rights reserved</li>
            <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
            <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
        </ul>

        <ul class="github">
            <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/avatax/dev-guide/discounts-and-overrides/discounts.md"><span>GH</span> Edit this page on GitHub</a></li>

        </ul>
    </footer>

    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>
    <script src="/developer-dot/public/js/site.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

     

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>
