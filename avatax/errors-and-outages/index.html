<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="robots" content="index,follow" /> 

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Errors and Outages | Avalara Developer</title>

    
    <meta name="description" content="API solutions for end-to-end tax compliance">

    
    <meta property="og:title" content="Errors and Outages | Avalara Developer" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Avalara Developer Network" />
    <meta property="og:description" content="API solutions for end-to-end tax compliance"/>

    <link rel="apple-touch-icon" sizes="57x57" href="/developer-dot/public/images/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/developer-dot/public/images/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/developer-dot/public/images/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/developer-dot/public/images/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/developer-dot/public/images/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/developer-dot/public/images/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/developer-dot/public/images/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/developer-dot/public/images/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/developer-dot/public/images/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/developer-dot/public/images/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/developer-dot/public/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/developer-dot/public/images/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/developer-dot/public/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/developer-dot/public/images/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff ">
    <meta name="msapplication-TileImage" content="/developer-dot/public/images/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff ">

    <link rel="stylesheet" href="/developer-dot/public/css/style.css"> 
    <!-- Adobe Dynamic Tab Manager Tag Manager -->
    <script src="https://assets.adobedtm.com/bc10a2a9cf337c664f8f74e778a1987125aea184/satelliteLib-0387aefee1ddb8b2a9db7e4165c8d84dc0de8621.js"></script>
    <!-- End Adobe Dynamic Tab Manager Tag Manager -->
</head>
 

<body id="top" data-product=avaTax>
    <header>
        <div class="pageTitle">
            <a href="/developer-dot/">
                <img src="/developer-dot/public/images/Avalara_logo.svg" alt="Avalara Developer Network">
                <span>Developer</span>
            </a>
            <span class="slash">/&nbsp;</span><a href="/developer-dot/avatax">avaTax</a>
        </div>
        <nav class="navbar navbar-default navbar-static">
            <div class="navbar-header">
                <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".js-navbar-collapse">
                <span>Menu</span>
            </button>
            </div>
            <div class="collapse navbar-collapse js-navbar-collapse">
                <ul class="nav navbar-nav apis ">
                    <li class="apis visible-xs-block"><a href="/developer-dot/avalara-apis"><span class="text-uppercase">API</span>s</a></li>
                    <li class="visible-xs-block"><a href="/developer-dot/avatax/dev-guide/"><span class="text-uppercase">AvaTax Developer Guide</span></a></li>
                    <li class="apis dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">API</span>s <i class="caret"></i></a>
                        <div class="dropdown-menu dropdown-menu-large">
                            <div class="row">
                                <div class="col-md-12"><a href="/developer-dot/avalara-apis">APIs overview</a></div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <h2>Tax calculation</h2>
                                    
                                    <h4>Avalara AvaTax</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/avatax">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/avatax/dev-guide">Developer Guide</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/avatax/rest/v2">API reference</a></li>
                                        
                                        <br/>
                                        <li><a href="/developer-dot/avatax/use-cases">Use Cases</a></li>
                                        <li><a href="/developer-dot/avatax/get-started">Start your AvaTax free trial now!</a></li>
                                    </ul>
                                     
                                    <h4>Avalara Communications</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/communications">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/communications/afc-rest">API reference</a></li>
                                        
                                    </ul>
                                     
                                    <h4>Avalara Excise</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/excise">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/excise/5_18_0">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                                <div class="col-sm-6">
                                    <h2>Compliance document management</h2>
                                    
                                    <h4>Avalara CertCapture</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/certcapture">Overview</a></li>
                                        
                                        <li><a href="http://docs.certcapture6xrest.apiary.io/">API reference</a></li>
                                        
                                    </ul>
                                    
                                    <h2>Returns &amp; filing</h2>
                                     
                                    <h4>Avalara TrustFile</h4>
                                    <ul class="pipe">
                                        
                                        <li><a href="/developer-dot/trustfile">Overview</a></li>
                                        
                                        <li><a href="/developer-dot/api-reference/trustfile/api">API reference</a></li>
                                        
                                    </ul>
                                    
                                </div>
                            </div>
                        </div>
                    </li>
                    <li class="sdk dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">SDK</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li ><a href="/developer-dot/avatax/get-started">Get Started with AvaTax</a></li>
                            <br/>
                            <li><a href="/developer-dot/sdk/">The AvaTax SDK</a></li>
                            <li><a href="/developer-dot/sdk/soap">SOAP SDK</a></li>
                            <br/>
                            <li><a target="_blank" href="https://www.nuget.org/packages/Avalara.AvaTax/">Install C# SDK via NuGet</a></li>
                            <li><a target="_blank" href="http://search.maven.org/#search%7Cga%7C1%7Cg%3A%22net.avalara.avatax%22">Install JRE SDK via Maven</a></li>
                            <li><a target="_blank" href="https://packagist.org/packages/avalara/avataxclient">Install PHP SDK via Composer</a></li>
                            <li><a target="_blank" href="https://rubygems.org/gems/avatax">Install Ruby SDK via RubyGems</a></li>
                            <li><a target="_blank" href="https://www.npmjs.com/package/avatax">Install JavaScript SDK via NPMJS</a></li>
                        </ul>
                    </li>
                    <li class="tests"><a href="/developer-dot/tests/testing-your-integration/"><span class="text-uppercase">Tests</span></a></li>
                    <!-- removing until the link to the Self-Test is fugured out -->
                    <!--
                    <li class="tests dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Tests</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/tests/self-test">Avalara Self-Test Tool</a></li>
                            <li><a href="/developer-dot/tests/testing-your-integration/">Avalara Test Cases</a></li>
                        </ul>
                    </li> -->

                    <li class="certification dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggel" data-toggle="dropdown"><span class="text-uppercase">Become Certified</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                            <li><a href="/developer-dot/certification/">Overview</a></li>
                            <li><a href="/developer-dot/certification/avatax/">Avalara AvaTax</a></li>
                            <li><a href="/developer-dot/certification/communications-certification/">Avalara Communications</a></li>
                            <li><a href="/developer-dot/certification/excise/">Avalara Excise</a></li>
                            <li><a href="/developer-dot/certification/certcapture/">Avalara CertCapture</a></li>
                        </ul>
                    </li>
                    <li class="resources dropdown dropdown-large hidden-xs">
                        <a class="dropdown-toggle" data-toggle="dropdown"><span class="text-uppercase">Resources</span> <b class="caret"></b></a>
                        <ul class="dropdown-menu dropdown-menu-large">
                          <li><a href="/developer-dot/resources/support">Developer Support Options</a></li>
                          <li><a href="/developer-dot/blog">Developer Blog</a></li>
                          <li><a href="/developer-dot/resources/webinars">Webinars</a></li>
                          <!--<li><a href="/developer-dot/resources/preferred-developers">Preferred developers</a></li>-->
                          <li><a href="https://community.avalara.com/avalara/category_sets/developers">Help Forum</a></li>
                          <li><a href="https://avalaracommunity.force.com/partnerlaunch" target="_blank">Avalara Launch Center</a></li>
                        </ul>
                    </li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/resources/support"><span class="text-uppercase">Developer Support Options</span></a></li>
                    <li class="resources visible-xs-block"><a href="/developer-dot/blog"><span class="text-uppercase">Developer Blog</span></a></li>
                    <!--<li class="resources visible-xs-block"><a href="/developer-dot/resources/preferred-developers"><span class="text-uppercase">Preferred developers</span></a></li>-->
                    <li class="resources visible-xs-block"><a href="https://community.avalara.com/avalara/category_sets/developers"><span class="text-uppercase">Help Forum</span></a></li>
                </ul>


                <a href="/developer-dot/avatax/signup/" class="btn btn-primary btn-signup">Free Trial</a>

            </div>
        </nav>
    </header>
    <div class="container-fluid use_cases">
        
          


<div class="breadcrumbs">
    <div class="col-md-12">
        <ul class="pipe">
            <li><span class="text-uppercase">Tax Calculation API</span>s</li>
            <li class="text-uppercase"><a href="/developer-dot/avatax">Avalara avaTax</a></li>
            <li class="text-uppercase">use cases</li>
        </ul>
    </div>
</div>
  
        <section class="row padding-sides half">
            <nav class="col-md-3">
                 <ul class="api-ref-side-nav nav nav-pills nav-stacked hidden-xs hidden-sm">
    <li ><a href="/developer-dot/avatax/use-cases">Document Workflow</a></li>
    <li ><a href="/developer-dot/avatax/calculating-tax">Calculating Tax</a></li>
    <li ><a href="/developer-dot/avatax/address-validation">Address Validation</a></li>
    <li ><a href="/developer-dot/avatax/reportable-transactions">Reportable Transactions</a></li>
    <li ><a href="/developer-dot/avatax/handling-return-invoices">Product Returns</a></li>
    <li ><a href="/developer-dot/avatax/handling-tax-exempt-customers">Exempt Transactions</a></li>
    <li ><a href="/developer-dot/avatax/voiding-documents">Voiding Documents</a></li>
    <li ><a href="/developer-dot/avatax/vat-transactions">VAT Transactions</a></li>
    <li ><a href="/developer-dot/avatax/drop-shipping">Drop Shipping</a></li>
    <li ><a href="/developer-dot/avatax/consumer-use-tax">Consumer Use Tax</a></li>
    <li ><a href="/developer-dot/avatax/batch-file-reference">Batch File Reference</a></li>
    <li ><a href="/developer-dot/avatax/automated-provisioning">Automated Provisioning</a></li>
    <li ><a href="/developer-dot/avatax/soap-or-rest">SOAP or REST</a></li>
    <li ><a href="/developer-dot/avatax/filtering-in-rest/">Filtering in REST</a></li>
    <li ><a href="/developer-dot/avatax/authentication-in-rest/">Authentication in REST</a></li>
    <li ><a href="/developer-dot/avatax/finding-your-companyid">Finding Your CompanyId</a></li>
    <li ><a href="/developer-dot/avatax/proxy-server-settings">Proxy Server Settings</a></li>
    <li ><a href="/developer-dot/avatax/ssl-certificates">SSL Certificates</a></li>
    <li class="active" ><a href="/developer-dot/avatax/errors-and-outages">Errors and Outages</a></li>
    <li ><a href="/developer-dot/avatax/errors">REST Error Codes</a></li>
    <li ><a href="/developer-dot/avatax/common-errors">SOAP Error Codes</a></li>
    <li ><a href="/developer-dot/avatax/service-availability-and-performance">Service Availability</a></li>
    <li ><a href="/developer-dot/avatax/going-live">Going Live</a></li>
    <li ><a href="/developer-dot/avatax/logins">Logins and Resources</a></li>
    <li ><a href="/developer-dot/avatax/cloudconnect">Cloud Connect</a></li>

</ul>
<div class="sm-section-nav dropdown visible-xs-block visible-sm-block">
    <button id="use-case-nav" type="button" data-toggle="dropdown">Use Cases</button>
    <p>Tax Use Cases</p>
    <ul class="dropdown-menu" aria-labelledby="use-case-nav">
        <li><a href="/developer-dot/avatax/use-cases">Document Workflow</a></li>
        <li><a href="/developer-dot/avatax/calculating-tax">Calculating Tax</a></li>
        <li><a href="/developer-dot/avatax/address-validation">Address Validation</a></li>
        <li><a href="/developer-dot/avatax/reportable-transactions">Reportable Transactions</a></li>
        <li><a href="/developer-dot/avatax/handling-return-invoices">Product Returns</a></li>
        <li><a href="/developer-dot/avatax/handling-tax-exempt-customers">Exempt Transactions</a></li>
        <li><a href="/developer-dot/avatax/voiding-documents">Voiding Documents</a></li>
        <li><a href="/developer-dot/avatax/vat-transactions">VAT Transactions</a></li>
        <li><a href="/developer-dot/avatax/drop-shipping">Drop Shipping</a></li>
        <li><a href="/developer-dot/avatax/consumer-use-tax">Consumer Use Tax</a></li>
        <li><a href="/developer-dot/avatax/batch-file-reference/">Batch File Reference</a></li>
        <li><a href="/developer-dot/avatax/automated-provisioning">Automated Provisioning</a></li>
        <li><a href="/developer-dot/avatax/soap-or-rest">SOAP or REST</a></li>
        <li><a href="/developer-dot/avatax/filtering-in-rest/">Filtering in REST</a></li>
        <li><a href="/developer-dot/avatax/authentication-in-rest/">Authentication in REST</a></li>
        <li><a href="/developer-dot/avatax/finding-your-companyid">Finding Your CompanyId</a></li>
        <li><a href="/developer-dot/avatax/proxy-server-settings">Proxy Server Settings</a></li>
        <li><a href="/developer-dot/avatax/ssl-certificates">SSL Certificates</a></li>
        <li><a href="/developer-dot/avatax/errors-and-outages">Errors and Outages</a></li>
        <li><a href="/developer-dot/avatax/errors">REST Error Codes</a></li>
        <li><a href="/developer-dot/avatax/common-errors">SOAP Error Codes</a></li>
        <li><a href="/developer-dot/avatax/service-availability-and-performance">Service Availability</a></li>
        <li><a href="/developer-dot/avatax/going-live">Going Live</a></li>
        <li><a href="/developer-dot/avatax/logins">Logins and Resources</a></li>
        <li><a href="/developer-dot/avatax/cloudconnect">Cloud Connect</a></li>
    </ul>
</div>
 
            </nav>
            <main class="col-md-9">
  
    <h1>Errors and Outages
        
    </h1>
<h2>Handling Errors and Outages when things don't go your way.</h2>
<p>Although Avalara outages have been historically infrequent and short in duration, disruptions in connectivity due to service or internet outages are things that should be considered when designing your AvaTax SDK integration. Avalara sends out service notifications if there is an issue with our service.</p>

<p>Avalara does not queue transactions when the web service is down. Unless a connection is made to the web service, you will only receive an HTTP 500 - Internal Server Error message which means you have lost connection to the AvaTax Web Service and your local system needs to track invoices until the web service is restored.</p>

<p>Consideration must then be given to how you will report taxes back to the customers and/ or users during the outage, as the solution sets used are wide and diverse depending on the ERP / Shopping Cart system. When weighing your options, you should consult your company’s tax accountant or attorney. Common solutions are:</p>
<ul class="normal">
	<li> Prevent orders from being completed until service is restored and tax is calculated dynamically (e.g. not allow invoices to be posted in an ERP).</li>
	<li>Use a fallback method of calculation and then "make up" the difference when service is restored.</li>
</ul>
<p>Fallback methods may include:</p>
<ul class="normal">
	<li>A rate that is higher than any jurisdiction in which you charge tax (e.g. 12%)</li>
	<li>A 0% rate</li>
	<li>A local rate table that gives an estimate by state or zip code.</li>
</ul>
<p>Once service is restored, the tax can be transmitted to AvaTax using one of the following calculation methods:</p>
<ul class="normal">
	<li>Use a tax override of TaxAmount to reflect the estimated tax.</li>
	<li>Use TaxIncluded to back-calculate the correct tax amount from the total (including estimated tax) charged to the customer.</li>
	<li>Allow AvaTax to recalculate the tax amount, and absorb any additional payment of taxes.</li>
</ul>
<p>Transactions can be loaded with the standard calculation method or by using our <a href="https://help.avalara.com/000_AvaTax_Calc/000AvaTaxCalc_User_Guide/060_Managing_Transactions/030_Importing_Transactions">batch import functionality directly in the AvaTax Website</a>.</p>
<h2>Messages and Errors</h2>
<p>Understanding and taking appropriate action on error messages is critical to the successful implementation of a custom SDK connector. The errors and warnings that result from web service calls will guide the receiver to the most logical problem resolution path.</p>

<p>If a call fails, the receiver should always iterate through the messages collection that will be part of the result set and check the contents of the Name, Summary, Details and RefersTo fields of each message. Often the contents of these messages will indicate what the problem is.</p>

<p>For example, from a DocumentNotFoundError:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">The tax document could not be found.
<span class="nt">&lt;Details&gt;</span>SO123456789<span class="nt">&lt;/Details&gt;</span>
<span class="nt">&lt;RefersTo&gt;</span>Avalara.AvaTax.Services.Tax<span class="nt">&lt;/RefersTo&gt;</span>
<span class="nt">&lt;SeverityLevel&gt;</span>Error<span class="nt">&lt;/SeverityLevel&gt;</span></code></pre></figure>

<p>All API calls should contain a path that will execute for:</p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="n">ResultCode</span> <span class="p">=</span> <span class="n">SeverityLevel</span><span class="p">.</span><span class="n">Success</span>
<span class="n">ResultCode</span> <span class="p">=</span> <span class="n">SeverityLevel</span><span class="p">.</span><span class="n">Warning</span>
<span class="n">ResultCode</span> <span class="p">=</span> <span class="n">SeverityLevel</span><span class="p">.</span><span class="n">Error</span>
<span class="n">ResultCode</span> <span class="p">=</span> <span class="n">SeverityLevel</span><span class="p">.</span><span class="n">Exception</span></code></pre></figure>

<p>Notes:
Typically, Exception is only returned by a system error from the Avalara web service and will be caused by circumstances outside of the client application’s control (i.e. not having an internet connection will return the error).</p>

<p>In general, the path taken for ResultCode= Exception should be the same as for ResultCode=Error.
The only known circumstance under which ResultCode=Warning would be returned is for the API PostTax, when the TotalAmt or TotalTax fields do not agree with the amounts in the Avalara Database. In this case, the PostTax still completes.</p>

<p>At this time, the only API that may return SeverityLevel.Warning is PostTax. To account for the possibility that this may change in the future, we recommend you have a code path that will execute for ResultCode SeverityLevel.Warning for all API calls. This codepath may initially be the same as the codepath that is executed for a ResultCode of SeverityLevel.Error.</p>

<p>The following error message…</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">The server was unable to process the request due to an internal error.
For more information about the error, either turn on IncludeExceptionDetailInFaults 
(either from ServiceBehaviorAttribute or from the configuration behavior) 
on the server in order to send the exception information back to the client, 
or turn on tracing as per the Microsoft .NET Framework 3.0 SDK documentation and inspect the server trace logs.</code></pre></figure>

<p>…is returned frequently when one of the following has occurred:</p>
<ul class="normal">
	<li>There is a malformed data element (SOAP) being passed in the GetTax call, for example the date 10/01/2010 vs. 2010-10-01 or DocType= salesinvoice vs. SalesInvoice.</li>
	<li>There is a network / internal (local service) interruption preventing the web service call to contact the AvaTax web service.</li>
	<li>There is a configuration problem with your adapter host settings.</li>
</ul>

<hr />









</main>
        </section>
          
        <section class="row padding-sides">
            <main class="col-md-12"><div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'developeravalaracom'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</main>
        </section>
        
    </div>
    <footer>
        <ul class="global">
            <li><a href="https://www.avalara.com/"><span class="icon-sphere"></span>Avalara.com</a></li>
            <li><a href="https://help.avalara.com/"><span class="icon-help"></span>Help Center</a></li>
        </ul>


        <ul class="social">
            <li class="twitter"><a href="https://twitter.com/avadev">Twitter</a></li>
            <li class="facebook"><a href="https://www.facebook.com/avalara">Facebook</a></li>
            <li class="linkedin"><a href="https://www.linkedin.com/company/avalara">LinkedIn</a></li>
            <li class="youtube"><a href="https://www.youtube.com/user/Avalara1">Youtube</a></li>
        </ul>
        
        


        <ul class="legal">
            <li>&copy; 2017 Avalara, Inc. All rights reserved</li>
            <li><a href="https://www.avalara.com/site-terms/">Terms of use</a></li>
            <li><a href="https://www.avalara.com/privacy-policy/">Privacy policy</a></li>
        </ul>

        <ul class="github">
            <li class="social github-icon"><a href="https://github.com/Avalara/developer-dot/edit/master/avatax/errors-and-outages.md"><span>GH</span> Edit this page on GitHub</a></li>

        </ul>
    </footer>

    <script src="/developer-dot/public/js/vendor/jquery-2.2.4.min.js"></script>
    <script src="/developer-dot/public/js/vendor/bootstrap.min.js"></script>
    <script src="/developer-dot/public/js/site.js"></script>

    
    <script src="/developer-dot/public/js/vendor/aws-sdk-2.5.3.min.js"></script>
    <script>
        AWS.config.region = 'us-west-2';
    </script>

     

    <!-- Adobe Dynamic Tag Manager -->
    <script type="text/javascript">
        _satellite.pageBottom();
    </script>
    <!-- End Adobe Dynamic Tag Manager -->
</body>

</html>
